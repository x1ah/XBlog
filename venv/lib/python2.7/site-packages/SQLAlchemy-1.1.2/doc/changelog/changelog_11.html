<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        
        <title>
            
    
    1.1 Changelog
 &mdash;
    SQLAlchemy 1.1 Documentation

        </title>

        
            <!-- begin iterate through SQLA + sphinx environment css_files -->
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/changelog.css" type="text/css" />
                <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
                <link rel="stylesheet" href="../_static/docs.css" type="text/css" />
            <!-- end iterate through SQLA + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 1.1 Documentation" href="../index.html" />
        <link rel="up" title="Changes and Migration" href="index.html" />
        <link rel="next" title="1.0 Changelog" href="changelog_10.html" />
        <link rel="prev" title="What&#8217;s New in SQLAlchemy 1.1?" href="migration_11.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">1.1.2</span>
        | Release Date: October 17, 2016

    </div>

    <h1>SQLAlchemy 1.1 Documentation</h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">


        <div id="docs-sidebar-popout">
            <h3><a href="../index.html">SQLAlchemy 1.1 Documentation</a></h3>

            <p id="sidebar-topnav">
                <a href="../contents.html">Contents</a> |
                <a href="../genindex.html">Index</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        
        <h3>
            <a href="index.html" title="Changes and Migration">Changes and Migration</a>
        </h3>

        <ul>
<li><span class="link-container first"><a class="reference external" href="migration_11.html">What&#8217;s New in SQLAlchemy 1.1?</a></span></li>
<li class="selected"><span class="link-container first"><strong>1.1 Changelog</strong><a class="paramlink headerlink reference internal" href="#">¶</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.2">1.1.2</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.2-orm">orm</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.2-sql">sql</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.2-postgresql">postgresql</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.1">1.1.1</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.1-mssql">mssql</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.1-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0">1.1.0</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0-orm">orm</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0-orm-declarative">orm declarative</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0-sql">sql</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0-postgresql">postgresql</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0-mysql">mysql</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0-mssql">mssql</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b3">1.1.0b3</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b3-orm">orm</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b3-sql">sql</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b3-postgresql">postgresql</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b3-oracle">oracle</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b3-misc">misc</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b2">1.1.0b2</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b2-sql">sql</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b2-postgresql">postgresql</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b2-mysql">mysql</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b1">1.1.0b1</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b1-orm">orm</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b1-engine">engine</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b1-sql">sql</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b1-schema">schema</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b1-postgresql">postgresql</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b1-mysql">mysql</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b1-sqlite">sqlite</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b1-mssql">mssql</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#change-1.1.0b1-misc">misc</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="changelog_10.html">1.0 Changelog</a></span></li>
<li><span class="link-container first"><a class="reference external" href="changelog_09.html">0.9 Changelog</a></span></li>
<li><span class="link-container first"><a class="reference external" href="changelog_08.html">0.8 Changelog</a></span></li>
<li><span class="link-container first"><a class="reference external" href="changelog_07.html">0.7 Changelog</a></span></li>
<li><span class="link-container first"><a class="reference external" href="changelog_06.html">0.6 Changelog</a></span></li>
<li><span class="link-container first"><a class="reference external" href="changelog_05.html">0.5 Changelog</a></span></li>
<li><span class="link-container first"><a class="reference external" href="changelog_04.html">0.4 Changelog</a></span></li>
<li><span class="link-container first"><a class="reference external" href="changelog_03.html">0.3 Changelog</a></span></li>
<li><span class="link-container first"><a class="reference external" href="changelog_02.html">0.2 Changelog</a></span></li>
<li><span class="link-container first"><a class="reference external" href="changelog_01.html">0.1 Changelog</a></span></li>
<li><span class="link-container first"><a class="reference external" href="migration_10.html">What&#8217;s New in SQLAlchemy 1.0?</a></span></li>
<li><span class="link-container first"><a class="reference external" href="migration_09.html">What&#8217;s New in SQLAlchemy 0.9?</a></span></li>
<li><span class="link-container first"><a class="reference external" href="migration_08.html">What&#8217;s New in SQLAlchemy 0.8?</a></span></li>
<li><span class="link-container first"><a class="reference external" href="migration_07.html">What&#8217;s New in SQLAlchemy 0.7?</a></span></li>
<li><span class="link-container first"><a class="reference external" href="migration_06.html">What&#8217;s New in SQLAlchemy 0.6?</a></span></li>
<li><span class="link-container first"><a class="reference external" href="migration_05.html">What&#8217;s new in SQLAlchemy 0.5?</a></span></li>
<li><span class="link-container first"><a class="reference external" href="migration_04.html">What&#8217;s new in SQLAlchemy 0.4?</a></span></li>
</ul>



        </div>

    </div>

    

    <div id="docs-body" class="withsidebar" >
        
<div class="section" id="changelog">
<h1>1.1 Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="change-1.1.2">
<h2>1.1.2<a class="headerlink" href="#change-1.1.2" title="Permalink to this headline">¶</a></h2>
Released: October 17, 2016<div class="section" id="change-1.1.2-orm">
<h3>orm<a class="headerlink" href="#change-1.1.2-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.2-0"><span class="target" id="change-af602415001b7706e633bc44c34c5071"><strong>[orm] [bug] </strong></span>Fixed bug involving the rule to disable a joined collection eager
loader on the other side of a many-to-one lazy loader, first added
in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1495">#1495</a>, where the rule would fail if the parent object
had some other lazyloader-bound query options associated with it.<a class="changeset-link headerlink reference internal" href="#change-af602415001b7706e633bc44c34c5071">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3824">#3824</a></p>
</p>
</li>
<li><p id="change-1.1.2-1"><span class="target" id="change-b4232ed2a800f5094c1010f6981d35e9"><strong>[orm] [bug] </strong></span>Fixed self-referential entity, deferred column loading issue in a
similar style as that of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3431">#3431</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3811">#3811</a> where an entity
is present in multiple positions within the row due to self-referential
eager loading; when the deferred loader only applies to one of the
paths, the &#8220;present&#8221; column loader will now override the deferred non-
load for that entity regardless of row ordering.<a class="changeset-link headerlink reference internal" href="#change-b4232ed2a800f5094c1010f6981d35e9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3822">#3822</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.2-sql">
<h3>sql<a class="headerlink" href="#change-1.1.2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.2-2"><span class="target" id="change-289f4df02a357ea14af418075a7bc86b"><strong>[sql] [bug] </strong></span>Fixed a regression caused by a newly added function that performs the
&#8220;wrap callable&#8221; function of sql <a class="reference internal" href="../core/defaults.html#sqlalchemy.schema.DefaultGenerator" title="sqlalchemy.schema.DefaultGenerator"><code class="xref py py-class docutils literal"><span class="pre">DefaultGenerator</span></code></a> objects,
an attribute error raised for <code class="docutils literal"><span class="pre">__module__</span></code> when the default callable
was a <code class="docutils literal"><span class="pre">functools.partial</span></code> or other object that doesn&#8217;t have a
<code class="docutils literal"><span class="pre">__module__</span></code> attribute.<a class="changeset-link headerlink reference internal" href="#change-289f4df02a357ea14af418075a7bc86b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3823">#3823</a></p>
</p>
</li>
<li><p id="change-1.1.2-3"><span class="target" id="change-583d8e954cccf548da525295a8a17449"><strong>[sql] [bug] [postgresql] </strong></span>Fixed regression in <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal"><span class="pre">Enum</span></code></a> type where event handlers were not
transferred in the case of the type object being copied, due to a
conflicting copy() method added as part of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3250">#3250</a>.  This copy
occurs normally in situations when the column is copied, such as
in tometadata() or when using declarative mixins with columns.  The
event handler not being present would impact the constraint being
created for a non-native enumerated type, but more critically the
ENUM object on the PostgreSQL backend.<a class="changeset-link headerlink reference internal" href="#change-583d8e954cccf548da525295a8a17449">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3827">#3827</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.2-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.2-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.2-4"><span class="target" id="change-e37123afb35f36f6bb41c0cb8de73f9d"><strong>[postgresql] [bug] [sql] </strong></span>Changed the naming convention used when generating bound parameters
for a multi-VALUES insert statement, so that the numbered parameter
names don&#8217;t conflict with the anonymized parameters of a WHERE clause,
as is now common in a PostgreSQL ON CONFLICT construct.<a class="changeset-link headerlink reference internal" href="#change-e37123afb35f36f6bb41c0cb8de73f9d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3828">#3828</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.1">
<h2>1.1.1<a class="headerlink" href="#change-1.1.1" title="Permalink to this headline">¶</a></h2>
Released: October 7, 2016<div class="section" id="change-1.1.1-mssql">
<h3>mssql<a class="headerlink" href="#change-1.1.1-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.1-0"><span class="target" id="change-ec4c6ae38edcd45548da3677d7678b93"><strong>[mssql] [bug] </strong></span>The &#8220;SELECT SERVERPROPERTY&#8221;
query added in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3810">#3810</a> and <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3814">#3814</a> is failing on unknown
combinations of Pyodbc and SQL Server.  While failure of this function
was anticipated, the exception catch was not broad enough so it now
catches all forms of pyodbc.Error.<a class="changeset-link headerlink reference internal" href="#change-ec4c6ae38edcd45548da3677d7678b93">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3820">#3820</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.1-misc">
<h3>misc<a class="headerlink" href="#change-1.1.1-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.1-1"><span class="target" id="change-5d3b4d60616915bd6b5693bde551ace5"><strong>[bug] [core] </strong></span>Changed the CompileError raised when various primary key missing
situations are detected to a warning.  The statement is again
passed to the database where it will fail and the DBAPI error (usually
IntegrityError) raises as usual.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3216"><span class="std std-ref">The .autoincrement directive is no longer implicitly enabled for a composite primary key column</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-5d3b4d60616915bd6b5693bde551ace5">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3216">#3216</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.0">
<h2>1.1.0<a class="headerlink" href="#change-1.1.0" title="Permalink to this headline">¶</a></h2>
Released: October 5, 2016<div class="section" id="change-1.1.0-orm">
<h3>orm<a class="headerlink" href="#change-1.1.0-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0-0"><span class="target" id="change-f42341f2d13ea3ba7144b515b49c9f15"><strong>[orm] [feature] </strong></span>Enhanced the new &#8220;raise&#8221; lazy loader strategy to also include a
&#8220;raise_on_sql&#8221; variant, available both via <a class="reference internal" href="../orm/relationship_api.html#sqlalchemy.orm.relationship.params.lazy" title="sqlalchemy.orm.relationship"><code class="xref py py-paramref docutils literal"><span class="pre">orm.relationship.lazy</span></code></a>
as well as <a class="reference internal" href="../orm/loading_relationships.html#sqlalchemy.orm.raiseload" title="sqlalchemy.orm.raiseload"><code class="xref py py-func docutils literal"><span class="pre">orm.raiseload()</span></code></a>.   This variant only raises if the
lazy load would actually emit SQL, vs. raising if the lazy loader
mechanism is invoked at all.<a class="changeset-link headerlink reference internal" href="#change-f42341f2d13ea3ba7144b515b49c9f15">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3812">#3812</a></p>
</p>
</li>
<li><p id="change-1.1.0-1"><span class="target" id="change-b266170ce8153348d275977f17a2ced1"><strong>[orm] [feature] </strong></span>The <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.group_by" title="sqlalchemy.orm.query.Query.group_by"><code class="xref py py-meth docutils literal"><span class="pre">Query.group_by()</span></code></a> method now resets the group by collection
if an argument of <code class="docutils literal"><span class="pre">None</span></code> is passed, in the same way that
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.order_by" title="sqlalchemy.orm.query.Query.order_by"><code class="xref py py-meth docutils literal"><span class="pre">Query.order_by()</span></code></a> has worked for a long time.  Pull request
courtesy Iuri Diniz.<a class="changeset-link headerlink reference internal" href="#change-b266170ce8153348d275977f17a2ced1">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0-2"><span class="target" id="change-371998ec9a0720b0855d08c8cc443fe0"><strong>[orm] [bug] </strong></span>Fixed bug where joined eager loading would fail for a polymorphically-
loaded mapper, where the polymorphic_on was set to an un-mapped
expression such as a CASE expression.<a class="changeset-link headerlink reference internal" href="#change-371998ec9a0720b0855d08c8cc443fe0">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3800">#3800</a></p>
</p>
</li>
<li><p id="change-1.1.0-3"><span class="target" id="change-61639afe972557f17e08ffba80e880d2"><strong>[orm] [bug] </strong></span>Fixed bug where the ArgumentError raised for an invalid bind
sent to a Session via <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.bind_mapper" title="sqlalchemy.orm.session.Session.bind_mapper"><code class="xref py py-meth docutils literal"><span class="pre">Session.bind_mapper()</span></code></a>,
<a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.bind_table" title="sqlalchemy.orm.session.Session.bind_table"><code class="xref py py-meth docutils literal"><span class="pre">Session.bind_table()</span></code></a>,
or the constructor would fail to be correctly raised.<a class="changeset-link headerlink reference internal" href="#change-61639afe972557f17e08ffba80e880d2">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3798">#3798</a></p>
</p>
</li>
<li><p id="change-1.1.0-4"><span class="target" id="change-fb7140268bbf0d23fd64b2fc9393e8b6"><strong>[orm] [bug] </strong></span>Fixed bug in subquery eager loading where a subqueryload
of an &#8220;of_type()&#8221; object linked to a second subqueryload of a plain
mapped class, or a longer chain of several &#8220;of_type()&#8221; attributes,
would fail to link the joins correctly.<a class="changeset-link headerlink reference internal" href="#change-fb7140268bbf0d23fd64b2fc9393e8b6">¶</a><p>This change is also <strong>backported</strong> to: 1.0.15</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3773">#3773</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3774">#3774</a></p>
</p>
</li>
<li><p id="change-1.1.0-5"><span class="target" id="change-4e6d283f36390b786413ba657530b45f"><strong>[orm] [bug] </strong></span>ORM attributes can now be assigned any object that is has a
<code class="docutils literal"><span class="pre">__clause_element__()</span></code> attribute, which will result in inline
SQL the way any <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a> class does.  This covers other
mapped attributes not otherwise transformed by further expression
constructs.<a class="changeset-link headerlink reference internal" href="#change-4e6d283f36390b786413ba657530b45f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3802">#3802</a></p>
</p>
</li>
<li><p id="change-1.1.0-6"><span class="target" id="change-8430174a148b8231bc15877a50a59a82"><strong>[orm] [bug] </strong></span>Made an adjustment to the bug fix first introduced in [ticket:3431]
that involves an object appearing in multiple contexts in a single
result set, such that an eager loader that would set the related
object value to be None will still fire off, thus satisfying the
load of that attribute.  Previously, the adjustment only honored
a non-None value arriving for an eagerly loaded attribute in a
secondary row.<a class="changeset-link headerlink reference internal" href="#change-8430174a148b8231bc15877a50a59a82">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3811">#3811</a></p>
</p>
</li>
<li><p id="change-1.1.0-7"><span class="target" id="change-60edf976854dcd7db8932ea2a42da50b"><strong>[orm] [bug] </strong></span>Fixed bug in new <a class="reference internal" href="../orm/events.html#sqlalchemy.orm.events.SessionEvents.persistent_to_deleted" title="sqlalchemy.orm.events.SessionEvents.persistent_to_deleted"><code class="xref py py-meth docutils literal"><span class="pre">SessionEvents.persistent_to_deleted()</span></code></a> event
where the target object could be garbage collected before the event
is fired off.<a class="changeset-link headerlink reference internal" href="#change-60edf976854dcd7db8932ea2a42da50b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3808">#3808</a></p>
</p>
</li>
<li><p id="change-1.1.0-8"><span class="target" id="change-a3f5d5c92e4cf316525ebd40213c6259"><strong>[orm] [bug] </strong></span>The primaryjoin of a <a class="reference internal" href="../orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a> construct can now include
a <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.bindparam" title="sqlalchemy.sql.expression.bindparam"><code class="xref py py-func docutils literal"><span class="pre">bindparam()</span></code></a> object that includes a callable function to
generate values.  Previously, the lazy loader strategy would
be incompatible with this use, and additionally would fail to correctly
detect if the &#8220;use_get&#8221; criteria should be used if the primary key
were involved with the bound parameter.<a class="changeset-link headerlink reference internal" href="#change-a3f5d5c92e4cf316525ebd40213c6259">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3767">#3767</a></p>
</p>
</li>
<li><p id="change-1.1.0-9"><span class="target" id="change-f8a23fba684faec2391a153804800128"><strong>[orm] [bug] </strong></span>An UPDATE emitted from the ORM flush process can now accommodate a
SQL expression element for a column within the primary key of an
object, if the target database supports RETURNING in order to provide
the new value, or if the PK value is set &#8220;to itself&#8221; for the purposes
of bumping some other trigger / onupdate on the column.<a class="changeset-link headerlink reference internal" href="#change-f8a23fba684faec2391a153804800128">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3801">#3801</a></p>
</p>
</li>
<li><p id="change-1.1.0-10"><span class="target" id="change-f8078cf99b3eb64de58b9b686c3c3537"><strong>[orm] [bug] </strong></span>Fixed bug where the &#8220;simple many-to-one&#8221; condition that allows  lazy
loading to use get() from identity map would fail to be  invoked if the
primaryjoin of the relationship had multiple clauses separated by AND
which were not in the same order as that of the primary key columns
being compared in each clause. This ordering
difference occurs for a composite foreign key where the table-bound
columns on the referencing side were not in the same order in the .c
collection as the primary key columns on the referenced side....which
in turn occurs a lot if one is using declarative mixins and/or
declared_attr to set up columns.<a class="changeset-link headerlink reference internal" href="#change-f8078cf99b3eb64de58b9b686c3c3537">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3788">#3788</a></p>
</p>
</li>
<li><p id="change-1.1.0-11"><span class="target" id="change-4503e2739044124d70d4f4b148ac838a"><strong>[orm] [bug] </strong></span>An exception is raised when two <code class="docutils literal"><span class="pre">&#64;validates</span></code> decorators on a mapping
make use of the same name.  Only one validator of a certain name
at a time is supported, there&#8217;s no mechanism to chain these together,
as the order of the validators at the level of function decorator
can&#8217;t be made deterministic.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3776"><span class="std std-ref">Same-named &#64;validates decorators will now raise an exception</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-4503e2739044124d70d4f4b148ac838a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3776">#3776</a></p>
</p>
</li>
<li><p id="change-1.1.0-12"><span class="target" id="change-7478a0b4b220cccc12d8e769d1f38106"><strong>[orm] [bug] </strong></span>Mapper errors raised during <a class="reference internal" href="../orm/mapping_api.html#sqlalchemy.orm.configure_mappers" title="sqlalchemy.orm.configure_mappers"><code class="xref py py-func docutils literal"><span class="pre">configure_mappers()</span></code></a> now explicitly
include the name of the originating mapper in the exception message
to help in those situations where the wrapped exception does not
itself include the source mapper.  Pull request courtesy
John Perkins.<a class="changeset-link headerlink reference internal" href="#change-7478a0b4b220cccc12d8e769d1f38106">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0-13"><span class="target" id="change-1fa16f683aa717129609f6eb2891934e"><strong>[orm] [change] </strong></span>Passing False to <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.order_by" title="sqlalchemy.orm.query.Query.order_by"><code class="xref py py-meth docutils literal"><span class="pre">Query.order_by()</span></code></a> in order to cancel
all order by&#8217;s is deprecated; there is no longer any difference
between calling this method with False or with None.<a class="changeset-link headerlink reference internal" href="#change-1fa16f683aa717129609f6eb2891934e">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0-orm-declarative">
<h3>orm declarative<a class="headerlink" href="#change-1.1.0-orm-declarative" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0-14"><span class="target" id="change-f2637b9a5ca777796c51889d7b51b08d"><strong>[orm] [declarative] [change] </strong></span>Constructing a declarative base class that inherits from another class
will also inherit its docstring. This means
<a class="reference internal" href="../orm/extensions/declarative/api.html#sqlalchemy.ext.declarative.as_declarative" title="sqlalchemy.ext.declarative.as_declarative"><code class="xref py py-func docutils literal"><span class="pre">as_declarative()</span></code></a> acts more like a normal class
decorator.<a class="changeset-link headerlink reference internal" href="#change-f2637b9a5ca777796c51889d7b51b08d">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0-sql">
<h3>sql<a class="headerlink" href="#change-1.1.0-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0-15"><span class="target" id="change-8d7baca1126370eaa2c753ca2d9e7c1d"><strong>[sql] [bug] </strong></span>Fixed bug in <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> where the internal method
<code class="docutils literal"><span class="pre">_reset_exported()</span></code> would corrupt the state of the object.  This
method is intended for selectable objects and is called by the ORM
in some cases; an erroneous mapper configuration would could lead the
ORM to call this on on a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> object.<a class="changeset-link headerlink reference internal" href="#change-8d7baca1126370eaa2c753ca2d9e7c1d">¶</a><p>This change is also <strong>backported</strong> to: 1.0.15</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3755">#3755</a></p>
</p>
</li>
<li><p id="change-1.1.0-16"><span class="target" id="change-a65199d14c5fff244740e72075d95ab8"><strong>[sql] [bug] </strong></span>Execution options can now be propagated from within a
statement at compile time to the outermost statement, so that
if an embedded element wants to set &#8220;autocommit&#8221; to be True for example,
it can propagate this to the enclosing statement.  Currently, this
feature is enabled for a DML-oriented CTE embedded inside of a SELECT
statement, e.g. INSERT/UPDATE/DELETE inside of SELECT.<a class="changeset-link headerlink reference internal" href="#change-a65199d14c5fff244740e72075d95ab8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3805">#3805</a></p>
</p>
</li>
<li><p id="change-1.1.0-17"><span class="target" id="change-83aa5ed6faa7650522506f27c82d6331"><strong>[sql] [bug] </strong></span>A string sent as a column default via the
<a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column.params.server_default" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal"><span class="pre">Column.server_default</span></code></a> parameter is now escaped for quotes.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3809"><span class="std std-ref">String server_default now literal quoted</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-83aa5ed6faa7650522506f27c82d6331">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3809">#3809</a></p>
</p>
</li>
<li><p id="change-1.1.0-18"><span class="target" id="change-9c2eb0349bfb8d7c986c73a6b45c2a89"><strong>[sql] [bug] [postgresql] </strong></span>Added compiler-level flags used by PostgreSQL to place additional
parenthesis than would normally be generated by precedence rules
around operations involving JSON, HSTORE indexing operators as well as
within their operands since it has been observed that PostgreSQL&#8217;s
precedence rules for at least the HSTORE indexing operator is not
consistent between 9.4 and 9.5.<a class="changeset-link headerlink reference internal" href="#change-9c2eb0349bfb8d7c986c73a6b45c2a89">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3806">#3806</a></p>
</p>
</li>
<li><p id="change-1.1.0-19"><span class="target" id="change-4667b5bd5cde7049b907f70614059d00"><strong>[sql] [bug] [mysql] </strong></span>The <code class="docutils literal"><span class="pre">BaseException</span></code> exception class is now intercepted by the
exception-handling routines of <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>, and includes
handling by the <a class="reference internal" href="../core/events.html#sqlalchemy.events.ConnectionEvents.handle_error" title="sqlalchemy.events.ConnectionEvents.handle_error"><code class="xref py py-meth docutils literal"><span class="pre">handle_error()</span></code></a>
event.  The <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a> is now <strong>invalidated</strong> by default in
the case of a system level exception that is not a subclass of
<code class="docutils literal"><span class="pre">Exception</span></code>, including <code class="docutils literal"><span class="pre">KeyboardInterrupt</span></code> and the greenlet
<code class="docutils literal"><span class="pre">GreenletExit</span></code> class, to prevent further operations from occurring
upon a database connection that is in an unknown and possibly
corrupted state.  The MySQL drivers are most targeted by this change
however the change is across all DBAPIs.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3803"><span class="std std-ref">Engines now invalidate connections, run error handlers for BaseException</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-4667b5bd5cde7049b907f70614059d00">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3803">#3803</a></p>
</p>
</li>
<li><p id="change-1.1.0-20"><span class="target" id="change-5acb293b80b951406effd14eec5836a4"><strong>[sql] [bug] </strong></span>The &#8220;eq&#8221; and &#8220;ne&#8221; operators are no longer part of the list of
&#8220;associative&#8221; operators, while they remain considered to be
&#8220;commutative&#8221;.  This allows an expression like <code class="docutils literal"><span class="pre">(x</span> <span class="pre">==</span> <span class="pre">y)</span> <span class="pre">==</span> <span class="pre">z</span></code>
to be maintained at the SQL level with parenthesis.  Pull request
courtesy John Passaro.<a class="changeset-link headerlink reference internal" href="#change-5acb293b80b951406effd14eec5836a4">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3799">#3799</a></p>
</p>
</li>
<li><p id="change-1.1.0-21"><span class="target" id="change-2c6ffb7bd734b1b1b4c06552d23a417a"><strong>[sql] [bug] </strong></span>Stringify of expression with unnamed <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> objects, as
occurs in lots of situations including ORM error reporting,
will now render the name in string context as &#8220;&lt;name unknown&gt;&#8221;
rather than raising a compile error.<a class="changeset-link headerlink reference internal" href="#change-2c6ffb7bd734b1b1b4c06552d23a417a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3789">#3789</a></p>
</p>
</li>
<li><p id="change-1.1.0-22"><span class="target" id="change-e1373fa7813f2864c4b683f279fad19c"><strong>[sql] [bug] </strong></span>Raise a more descriptive exception / message when ClauseElement
or non-SQLAlchemy objects that are not &#8220;executable&#8221; are erroneously
passed to <code class="docutils literal"><span class="pre">.execute()</span></code>; a new exception ObjectNotExecutableError
is raised consistently in all cases.<a class="changeset-link headerlink reference internal" href="#change-e1373fa7813f2864c4b683f279fad19c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3786">#3786</a></p>
</p>
</li>
<li><p id="change-1.1.0-23"><span class="target" id="change-45bbe5d31220bed98f6334d372339ea7"><strong>[sql] [bug] [postgresql] [mysql] </strong></span>Fixed regression in JSON datatypes where the &#8220;literal processor&#8221; for
a JSON index value would not be invoked.  The native String and Integer
datatypes are now called upon from within the JSONIndexType
and JSONPathType.  This is applied to the generic, PostgreSQL, and
MySQL JSON types and also has a dependency on <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3766">#3766</a>.<a class="changeset-link headerlink reference internal" href="#change-45bbe5d31220bed98f6334d372339ea7">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3765">#3765</a></p>
</p>
</li>
<li><p id="change-1.1.0-24"><span class="target" id="change-7d73fc7fe934b407a6e3efa1eae6ac1f"><strong>[sql] [bug] </strong></span>Fixed bug where <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal"><span class="pre">Index</span></code></a> would fail to extract columns from
compound SQL expressions if those SQL expressions were wrapped inside
of an ORM-style <code class="docutils literal"><span class="pre">__clause_element__()</span></code> construct.  This bug
exists in 1.0.x as well, however in 1.1 is more noticeable as
hybrid_property &#64;expression now returns a wrapped element.<a class="changeset-link headerlink reference internal" href="#change-7d73fc7fe934b407a6e3efa1eae6ac1f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3763">#3763</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.0-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0-25"><span class="target" id="change-58a9332a0fa45bae35efac5cf229e84e"><strong>[postgresql] [bug] </strong></span>An adjustment to ON CONFLICT such that the &#8220;inserted_primary_key&#8221;
logic is able to accommodate the case where there&#8217;s no INSERT or
UPDATE and there&#8217;s no net change.  The value comes out as None
in this case, rather than failing on an exception.<a class="changeset-link headerlink reference internal" href="#change-58a9332a0fa45bae35efac5cf229e84e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3813">#3813</a></p>
</p>
</li>
<li><p id="change-1.1.0-26"><span class="target" id="change-9ca8ded0a2df231997db9c2d140fb0a0"><strong>[postgresql] [bug] </strong></span><blockquote>
<div>Fixed issue in new PG &#8220;on conflict&#8221; construct where columns including
those of the &#8220;excluded&#8221; namespace would not be table-qualified
in the WHERE clauses in the statement.</div></blockquote>
<a class="changeset-link headerlink reference internal" href="#change-9ca8ded0a2df231997db9c2d140fb0a0">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3807">#3807</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0-mysql">
<h3>mysql<a class="headerlink" href="#change-1.1.0-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0-27"><span class="target" id="change-62c24eb40513560d709da2519903dbb5"><strong>[mysql] [bug] </strong></span>Added support for parsing MySQL/Connector boolean and integer
arguments within the URL query string: connection_timeout,
connect_timeout, pool_size, get_warnings,
raise_on_warnings, raw, consume_results, ssl_verify_cert, force_ipv6,
pool_reset_session, compress, allow_local_infile, use_pure.<a class="changeset-link headerlink reference internal" href="#change-62c24eb40513560d709da2519903dbb5">¶</a><p>This change is also <strong>backported</strong> to: 1.0.15</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3787">#3787</a></p>
</p>
</li>
<li><p id="change-1.1.0-28"><span class="target" id="change-1c433e5d5077ca02e632695c46073b4d"><strong>[mysql] [bug] </strong></span>Fixed bug where the &#8220;literal_binds&#8221; flag would not be propagated
to a CAST expression under MySQL.<a class="changeset-link headerlink reference internal" href="#change-1c433e5d5077ca02e632695c46073b4d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3766">#3766</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0-mssql">
<h3>mssql<a class="headerlink" href="#change-1.1.0-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0-29"><span class="target" id="change-73b0d55f0127ebaab3129784b94cac28"><strong>[mssql] [bug] </strong></span>Changed the query used to get &#8220;default schema name&#8221;, from one that
queries the database principals table to using the
&#8220;schema_name()&#8221; function, as issues have been reported that the
former system was unavailable on the Azure Data Warehouse edition.
It is hoped that this will finally work across all SQL Server
versions and authentication styles.<a class="changeset-link headerlink reference internal" href="#change-73b0d55f0127ebaab3129784b94cac28">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3810">#3810</a></p>
</p>
</li>
<li><p id="change-1.1.0-30"><span class="target" id="change-9c3f9b2cd5051c69e55f0b84714b76f6"><strong>[mssql] [bug] </strong></span>Updated the server version info scheme for pyodbc to use SQL Server
SERVERPROPERTY(), rather than relying upon pyodbc.SQL_DBMS_VER, which
continues to be unreliable particularly with FreeTDS.<a class="changeset-link headerlink reference internal" href="#change-9c3f9b2cd5051c69e55f0b84714b76f6">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3814">#3814</a></p>
</p>
</li>
<li><p id="change-1.1.0-31"><span class="target" id="change-7e48bd57076a9a6c862091c667d7766d"><strong>[mssql] [bug] </strong></span>Added error code 20017 &#8220;unexpected EOF from the server&#8221; to the list of
disconnect exceptions that result in a connection pool reset.  Pull
request courtesy Ken Robbins.<a class="changeset-link headerlink reference internal" href="#change-7e48bd57076a9a6c862091c667d7766d">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0-misc">
<h3>misc<a class="headerlink" href="#change-1.1.0-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0-32"><span class="target" id="change-90b3fbdb63a1d89e0a97da11fe6fa61f"><strong>[bug] [orm.declarative] </strong></span>Fixed bug where setting up a single-table inh subclass of a joined-table
subclass which included an extra column would corrupt the foreign keys
collection of the mapped table, thereby interfering with the
initialization of relationships.<a class="changeset-link headerlink reference internal" href="#change-90b3fbdb63a1d89e0a97da11fe6fa61f">¶</a><p>This change is also <strong>backported</strong> to: 1.0.16</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3797">#3797</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.0b3">
<h2>1.1.0b3<a class="headerlink" href="#change-1.1.0b3" title="Permalink to this headline">¶</a></h2>
Released: July 26, 2016<div class="section" id="change-1.1.0b3-orm">
<h3>orm<a class="headerlink" href="#change-1.1.0b3-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b3-0"><span class="target" id="change-c9a29351b225ea55e72fc224981a3a5f"><strong>[orm] [change] </strong></span>Removed a warning that dates back to 0.4 which emits when a same-named
relationship is placed on two mappers that inherits via joined or
single table inheritance.   The warning does not apply to the
current unit of work implementation.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3749"><span class="std std-ref">Same-named relationships on inheriting mappers no longer warn</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-c9a29351b225ea55e72fc224981a3a5f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3749">#3749</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b3-sql">
<h3>sql<a class="headerlink" href="#change-1.1.0b3-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b3-1"><span class="target" id="change-409887b1bb48a0aa7d2a1d56b43d42c8"><strong>[sql] [bug] </strong></span>Fixed bug in new CTE feature for update/insert/delete stated
as a CTE inside of an enclosing statement (typically SELECT) whereby
oninsert and onupdate values weren&#8217;t called upon for the embedded
statement.<a class="changeset-link headerlink reference internal" href="#change-409887b1bb48a0aa7d2a1d56b43d42c8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3745">#3745</a></p>
</p>
</li>
<li><p id="change-1.1.0b3-2"><span class="target" id="change-9646ce4b0998df77ef7a9e53036d9b25"><strong>[sql] [bug] </strong></span>Fixed bug in new CTE feature for update/insert/delete whereby
an anoymous (e.g. no name passed) <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal"><span class="pre">CTE</span></code></a> construct around
the statement would fail.<a class="changeset-link headerlink reference internal" href="#change-9646ce4b0998df77ef7a9e53036d9b25">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3744">#3744</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b3-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.0b3-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b3-3"><span class="target" id="change-4b6c963d8efbb4c1ddf688f36f39f06e"><strong>[postgresql] [bug] </strong></span>Fixed bug whereby <a class="reference internal" href="../core/custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal"><span class="pre">TypeDecorator</span></code></a> and <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.Variant" title="sqlalchemy.types.Variant"><code class="xref py py-class docutils literal"><span class="pre">Variant</span></code></a>
types were not deeply inspected enough by the PostgreSQL dialect
to determine if SMALLSERIAL or BIGSERIAL needed to be rendered
rather than SERIAL.<a class="changeset-link headerlink reference internal" href="#change-4b6c963d8efbb4c1ddf688f36f39f06e">¶</a><p>This change is also <strong>backported</strong> to: 1.0.14</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3739">#3739</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b3-oracle">
<h3>oracle<a class="headerlink" href="#change-1.1.0b3-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b3-4"><span class="target" id="change-36a5a237374426df2a272534d27636d0"><strong>[oracle] [bug] </strong></span>Fixed bug in <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.Select.with_for_update.params.of" title="sqlalchemy.sql.expression.Select.with_for_update"><code class="xref py py-paramref docutils literal"><span class="pre">Select.with_for_update.of</span></code></a>, where the Oracle
&#8220;rownum&#8221; approach to LIMIT/OFFSET would fail to accommodate for the
expressions inside the &#8220;OF&#8221; clause, which must be stated at the topmost
level referring to expression within the subquery.  The expressions are
now added to the subquery if needed.<a class="changeset-link headerlink reference internal" href="#change-36a5a237374426df2a272534d27636d0">¶</a><p>This change is also <strong>backported</strong> to: 1.0.14</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3741">#3741</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b3-misc">
<h3>misc<a class="headerlink" href="#change-1.1.0b3-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b3-5"><span class="target" id="change-c512c029fb9dc2cc5a6ccf3c9dedc7c3"><strong>[feature] [ext] </strong></span>Added a &#8220;default&#8221; parameter to the new sqlalchemy.ext.indexable
extension.<a class="changeset-link headerlink reference internal" href="#change-c512c029fb9dc2cc5a6ccf3c9dedc7c3">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b3-6"><span class="target" id="change-c0947c92d996b33ef1b4ce3c539e9d25"><strong>[bug] [ext] </strong></span>Fixed bug in <code class="docutils literal"><span class="pre">sqlalchemy.ext.baked</span></code> where the unbaking of a
subquery eager loader query would fail due to a variable scoping
issue, when multiple subquery loaders were involved.  Pull request
courtesy Mark Hahnenberg.<a class="changeset-link headerlink reference internal" href="#change-c0947c92d996b33ef1b4ce3c539e9d25">¶</a><p>This change is also <strong>backported</strong> to: 1.0.15</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3743">#3743</a></p>
</p>
</li>
<li><p id="change-1.1.0b3-7"><span class="target" id="change-e863e19e1663cd41a6b07e5a03515144"><strong>[bug] [ext] </strong></span>sqlalchemy.ext.indexable will intercept IndexError as well
as KeyError when raising as AttributeError.<a class="changeset-link headerlink reference internal" href="#change-e863e19e1663cd41a6b07e5a03515144">¶</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.0b2">
<h2>1.1.0b2<a class="headerlink" href="#change-1.1.0b2" title="Permalink to this headline">¶</a></h2>
Released: July 1, 2016<div class="section" id="change-1.1.0b2-sql">
<h3>sql<a class="headerlink" href="#change-1.1.0b2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b2-0"><span class="target" id="change-7006ffe86a58284eda862bbc60b8bc4b"><strong>[sql] [bug] </strong></span>Fixed issue in SQL math negation operator where the type of the
expression would no longer be the numeric type of the original.
This would cause issues where the type determined result set
behaviors.<a class="changeset-link headerlink reference internal" href="#change-7006ffe86a58284eda862bbc60b8bc4b">¶</a><p>This change is also <strong>backported</strong> to: 1.0.14</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3735">#3735</a></p>
</p>
</li>
<li><p id="change-1.1.0b2-1"><span class="target" id="change-5699ea1e56391cae80ed2aa84bf2c6e2"><strong>[sql] [bug] </strong></span>Fixed bug whereby the <code class="docutils literal"><span class="pre">__getstate__</span></code> / <code class="docutils literal"><span class="pre">__setstate__</span></code>
methods for sqlalchemy.util.Properties were
non-working due to the transition in the 1.0 series to <code class="docutils literal"><span class="pre">__slots__</span></code>.
The issue potentially impacted some third-party applications.
Pull request courtesy Pieter Mulder.<a class="changeset-link headerlink reference internal" href="#change-5699ea1e56391cae80ed2aa84bf2c6e2">¶</a><p>This change is also <strong>backported</strong> to: 1.0.14</p>
<p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3728">#3728</a></p>
</p>
</li>
<li><p id="change-1.1.0b2-2"><span class="target" id="change-f3088aa888b7e3a90f1814ce21c0b220"><strong>[sql] [bug] </strong></span>The processing performed by the <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Boolean" title="sqlalchemy.types.Boolean"><code class="xref py py-class docutils literal"><span class="pre">Boolean</span></code></a> datatype for backends
that only feature integer types has been made consistent between the
pure Python and C-extension versions, in that the C-extension version
will accept any integer value from the database as a boolean, not just
zero and one; additionally, non-boolean integer values being sent to
the database are coerced to exactly zero or one, instead of being
passed as the original integer value.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3730"><span class="std std-ref">Non-native boolean integer values coerced to zero/one/None in all cases</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-f3088aa888b7e3a90f1814ce21c0b220">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3730">#3730</a></p>
</p>
</li>
<li><p id="change-1.1.0b2-3"><span class="target" id="change-61ec601e4af58a2d337d455e2abcc9da"><strong>[sql] [bug] </strong></span>Rolled back the validation rules a bit in <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal"><span class="pre">Enum</span></code></a> to allow
unknown string values to pass through, unless the flag
<code class="docutils literal"><span class="pre">validate_string=True</span></code> is passed to the Enum; any other kind of object is
still of course rejected.  While the immediate use
is to allow comparisons to enums with LIKE, the fact that this
use exists indicates there may be more unknown-string-comparison use
cases than we expected, which hints that perhaps there are some
unknown string-INSERT cases too.<a class="changeset-link headerlink reference internal" href="#change-61ec601e4af58a2d337d455e2abcc9da">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3725">#3725</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b2-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.0b2-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b2-4"><span class="target" id="change-a5fce71fb2e30fdf321b95c31697aa26"><strong>[postgresql] [bug] [ext] </strong></span>Made a slight behavioral change in the <code class="docutils literal"><span class="pre">sqlalchemy.ext.compiler</span></code>
extension, whereby the existing compilation schemes for an established
construct would be removed if that construct was itself didn&#8217;t already
have its own dedicated <code class="docutils literal"><span class="pre">__visit_name__</span></code>.  This was a
rare occurrence in 1.0, however in 1.1 <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a>
subclasses <code class="xref py py-class docutils literal"><span class="pre">sqltypes.ARRAY</span></code> and has this behavior.
As a result, setting up a compilation handler for another dialect
such as SQLite would render the main <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a>
object no longer compilable.<a class="changeset-link headerlink reference internal" href="#change-a5fce71fb2e30fdf321b95c31697aa26">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3732">#3732</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b2-mysql">
<h3>mysql<a class="headerlink" href="#change-1.1.0b2-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b2-5"><span class="target" id="change-8e0948ee4b6cb64315abc0156aeb1fd6"><strong>[mysql] [bug] </strong></span>Dialed back the &#8220;order the primary key columns per auto-increment&#8221;
described in <a class="reference internal" href="migration_11.html#change-mysql-3216"><span class="std std-ref">No more generation of an implicit KEY for composite primary key w/ AUTO_INCREMENT</span></a> a bit, so that if the
<a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal"><span class="pre">PrimaryKeyConstraint</span></code></a> is explicitly defined, the order
of columns is maintained exactly, allowing control of this behavior
when necessary.<a class="changeset-link headerlink reference internal" href="#change-8e0948ee4b6cb64315abc0156aeb1fd6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3726">#3726</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-1.1.0b1">
<h2>1.1.0b1<a class="headerlink" href="#change-1.1.0b1" title="Permalink to this headline">¶</a></h2>
Released: June 16, 2016<div class="section" id="change-1.1.0b1-orm">
<h3>orm<a class="headerlink" href="#change-1.1.0b1-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-0"><span class="target" id="change-b3c884910b59a35c1b5267eca4bbe2b5"><strong>[orm] [feature] [ext] </strong></span>A new ORM extension <a class="reference internal" href="../orm/extensions/indexable.html"><span class="std std-ref">Indexable</span></a> is added, which allows
construction of Python attributes which refer to specific elements
of &#8220;indexed&#8221; structures such as arrays and JSON fields.  Pull request
courtesy Jeong YunWon.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#feature-indexable"><span class="std std-ref">New Indexable ORM extension</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-b3c884910b59a35c1b5267eca4bbe2b5">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-1"><span class="target" id="change-5acfb1b58ae42f608a8630f796d96e7e"><strong>[orm] [feature] </strong></span>Added new flag <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.bulk_insert_mappings.params.render_nulls" title="sqlalchemy.orm.session.Session.bulk_insert_mappings"><code class="xref py py-paramref docutils literal"><span class="pre">Session.bulk_insert_mappings.render_nulls</span></code></a>
which allows an ORM bulk INSERT to occur with NULL values rendered;
this bypasses server side defaults, however allows all statements
to be formed with the same set of columns, allowing them to be
batched.  Pull request courtesy Tobias Sauerwein.<a class="changeset-link headerlink reference internal" href="#change-5acfb1b58ae42f608a8630f796d96e7e">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-2"><span class="target" id="change-532ef99ecd1dd5bb8ee5ee6a8a2401db"><strong>[orm] [feature] </strong></span>Added new event <a class="reference internal" href="../orm/events.html#sqlalchemy.orm.events.AttributeEvents.init_scalar" title="sqlalchemy.orm.events.AttributeEvents.init_scalar"><code class="xref py py-meth docutils literal"><span class="pre">AttributeEvents.init_scalar()</span></code></a>, as well
as a new example suite illustrating its use.  This event can be used
to provide a Core-generated default value to a Python-side attribute
before the object is persisted.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-1311"><span class="std std-ref">New init_scalar() event intercepts default values at ORM level</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-532ef99ecd1dd5bb8ee5ee6a8a2401db">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1311">#1311</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-3"><span class="target" id="change-6b828691a60c4907d089b06e95f44234"><strong>[orm] [feature] </strong></span>Added <a class="reference internal" href="../orm/extensions/automap.html#sqlalchemy.ext.automap.AutomapBase.prepare.params.schema" title="sqlalchemy.ext.automap.AutomapBase.prepare"><code class="xref py py-paramref docutils literal"><span class="pre">AutomapBase.prepare.schema</span></code></a> to the
<a class="reference internal" href="../orm/extensions/automap.html#sqlalchemy.ext.automap.AutomapBase.prepare" title="sqlalchemy.ext.automap.AutomapBase.prepare"><code class="xref py py-meth docutils literal"><span class="pre">AutomapBase.prepare()</span></code></a> method, to indicate which schema
tables should be reflected from if not the default schema.
Pull request courtesy Josh Marlow.<a class="changeset-link headerlink reference internal" href="#change-6b828691a60c4907d089b06e95f44234">¶</a><p>References: <a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/237">pull request github:237</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-4"><span class="target" id="change-ebaee83acc1f8f12b712ab57c6ce231d"><strong>[orm] [feature] </strong></span>Added new parameter <a class="reference internal" href="../orm/mapping_api.html#sqlalchemy.orm.mapper.params.passive_deletes" title="sqlalchemy.orm.mapper"><code class="xref py py-paramref docutils literal"><span class="pre">orm.mapper.passive_deletes</span></code></a> to
available mapper options.   This allows a DELETE to proceed
for a joined-table inheritance mapping against the base table only,
while allowing for ON DELETE CASCADE to handle deleting the row
from the subclass tables.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-2349"><span class="std std-ref">passive_deletes feature for joined-inheritance mappings</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-ebaee83acc1f8f12b712ab57c6ce231d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2349">#2349</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-5"><span class="target" id="change-678ae60d4035b7177656f7d144cea811"><strong>[orm] [feature] </strong></span>Calling str() on a core SQL construct has been made more &#8220;friendly&#8221;,
when the construct contains non-standard SQL elements such as
RETURNING, array index operations, or dialect-specific or custom
datatypes.  A string is now returned in these cases rendering an
approximation of the construct (typically the PostgreSQL-style
version of it) rather than raising an error.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3631"><span class="std std-ref">&#8220;Friendly&#8221; stringification of Core SQL constructs without a dialect</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-678ae60d4035b7177656f7d144cea811">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3631">#3631</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-6"><span class="target" id="change-b748efc9574b29a2ea49e7c0333742a1"><strong>[orm] [feature] </strong></span>The <code class="docutils literal"><span class="pre">str()</span></code> call for <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a> will now take into account
the <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a> to which the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> is bound, when
generating the string form of the SQL, so that the actual SQL
that would be emitted to the database is shown, if possible.  Previously,
only the engine associated with the <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal"><span class="pre">MetaData</span></code></a> to which the
mappings are associated would be used, if present.  If
no bind can be located either on the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> or on
the <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal"><span class="pre">MetaData</span></code></a> to which the mappings are associated, then
the &#8220;default&#8221; dialect is used to render the SQL, as was the case
previously.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3081"><span class="std std-ref">Stringify of Query will consult the Session for the correct dialect</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-b748efc9574b29a2ea49e7c0333742a1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3081">#3081</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-7"><span class="target" id="change-d5cf16064aa92922d05395b09c928698"><strong>[orm] [feature] </strong></span>The <a class="reference internal" href="../orm/events.html#sqlalchemy.orm.events.SessionEvents" title="sqlalchemy.orm.events.SessionEvents"><code class="xref py py-class docutils literal"><span class="pre">SessionEvents</span></code></a> suite now includes events to allow
unambiguous tracking of all object lifecycle state transitions
in terms of the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> itself, e.g. pending,
transient,  persistent, detached.   The state of the object
within each event is also defined.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-2677"><span class="std std-ref">New Session lifecycle events</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-d5cf16064aa92922d05395b09c928698">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2677">#2677</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-8"><span class="target" id="change-df3d7ca7a278488ea611b03405eb14fd"><strong>[orm] [feature] </strong></span>Added a new session lifecycle state <a class="reference internal" href="../glossary.html#term-deleted"><span class="xref std std-term">deleted</span></a>.  This new state
represents an object that has been deleted from the <a class="reference internal" href="../glossary.html#term-persistent"><span class="xref std std-term">persistent</span></a>
state and will move to the <a class="reference internal" href="../glossary.html#term-detached"><span class="xref std std-term">detached</span></a> state once the transaction
is committed.  This resolves the long-standing issue that objects
which were deleted existed in a gray area between persistent and
detached.   The <a class="reference internal" href="../orm/internals.html#sqlalchemy.orm.state.InstanceState.persistent" title="sqlalchemy.orm.state.InstanceState.persistent"><code class="xref py py-attr docutils literal"><span class="pre">InstanceState.persistent</span></code></a> accessor will
<strong>no longer</strong> report on a deleted object as persistent; the
<a class="reference internal" href="../orm/internals.html#sqlalchemy.orm.state.InstanceState.deleted" title="sqlalchemy.orm.state.InstanceState.deleted"><code class="xref py py-attr docutils literal"><span class="pre">InstanceState.deleted</span></code></a> accessor will instead be True for
these objects, until they become detached.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-2677"><span class="std std-ref">New Session lifecycle events</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-df3d7ca7a278488ea611b03405eb14fd">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2677">#2677</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-9"><span class="target" id="change-09452835bc692d53fcd69eaae680cdf6"><strong>[orm] [feature] </strong></span>Added new checks for the common error case of passing mapped classes
or mapped instances into contexts where they are interpreted as
SQL bound parameters; a new exception is raised for this.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3321"><span class="std std-ref">Specific checks added for passing mapped classes, instances as SQL literals</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-09452835bc692d53fcd69eaae680cdf6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3321">#3321</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-10"><span class="target" id="change-ceee86d0abb726cd008560b25849fd6d"><strong>[orm] [feature] </strong></span>Added new relationship loading strategy <a class="reference internal" href="../orm/loading_relationships.html#sqlalchemy.orm.raiseload" title="sqlalchemy.orm.raiseload"><code class="xref py py-func docutils literal"><span class="pre">orm.raiseload()</span></code></a> (also
accessible via <code class="docutils literal"><span class="pre">lazy='raise'</span></code>).  This strategy behaves almost like
<a class="reference internal" href="../orm/loading_relationships.html#sqlalchemy.orm.noload" title="sqlalchemy.orm.noload"><code class="xref py py-func docutils literal"><span class="pre">orm.noload()</span></code></a> but instead of returning <code class="docutils literal"><span class="pre">None</span></code> it raises an
InvalidRequestError.  Pull request courtesy Adrian Moennich.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3512"><span class="std std-ref">New &#8220;raise&#8221; / &#8220;raise_on_sql&#8221; loader strategies</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-ceee86d0abb726cd008560b25849fd6d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3512">#3512</a>, <a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/193">pull request github:193</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-11"><span class="target" id="change-9093c4c590e858f7a6341c361cd97105"><strong>[orm] [bug] </strong></span>Fixed an issue where a many-to-one change of an object from one
parent to another could work inconsistently when combined with
an un-flushed modification of the foreign key attribute.  The attribute
move now considers the database-committed value of the foreign key
in order to locate the &#8220;previous&#8221; parent of the object being
moved.   This allows events to fire off correctly including
backref events.  Previously, these events would not always fire.
Applications which may have relied on the previously broken
behavior may be affected.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3708"><span class="std std-ref">Fix involving many-to-one object moves with user-initiated foreign key manipulations</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-9093c4c590e858f7a6341c361cd97105">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3708">#3708</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-12"><span class="target" id="change-649f635edb55d8224f0ebeb39df69dd6"><strong>[orm] [bug] </strong></span>Fixed bug where deferred columns would inadvertently be set up
for database load on the next object-wide unexpire, when the object
were merged into the session with <code class="docutils literal"><span class="pre">session.merge(obj,</span> <span class="pre">load=False)</span></code>.<a class="changeset-link headerlink reference internal" href="#change-649f635edb55d8224f0ebeb39df69dd6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3488">#3488</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-13"><span class="target" id="change-f28176c3e7691799da5b2674680209c0"><strong>[orm] [bug] [mysql] </strong></span>Further continuing on the common MySQL exception case of
a savepoint being cancelled first covered in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2696">#2696</a>,
the failure mode in which the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> is placed when a
SAVEPOINT vanishes before rollback has been improved to allow the
<a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> to still function outside of that savepoint.
It is assumed that the savepoint operation failed and was cancelled.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3680"><span class="std std-ref">Improved Session state when a SAVEPOINT is cancelled by the database</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-f28176c3e7691799da5b2674680209c0">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3680">#3680</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-14"><span class="target" id="change-8a920447463b0b57def835f194bc947f"><strong>[orm] [bug] </strong></span>Fixed bug where a newly inserted instance that is rolled back
would still potentially cause persistence conflicts on the next
transaction, because the instance would not be checked that it
was expired.   This fix will resolve a large class of cases that
erroneously cause the &#8220;New instance with identity X conflicts with
persistent instance Y&#8221; error.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3677"><span class="std std-ref">Erroneous &#8220;new instance X conflicts with persistent instance Y&#8221; flush errors fixed</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-8a920447463b0b57def835f194bc947f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3677">#3677</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-15"><span class="target" id="change-8d8169201233ee410bfb943fcbd64e8f"><strong>[orm] [bug] </strong></span>An improvement to the workings of <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.correlate" title="sqlalchemy.orm.query.Query.correlate"><code class="xref py py-meth docutils literal"><span class="pre">Query.correlate()</span></code></a> such
that when a &#8220;polymorphic&#8221; entity is used which represents a straight
join of several tables, the statement will ensure that all the
tables within the join are part of what&#8217;s correlating.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3662"><span class="std std-ref">Improvements to the Query.correlate method with polymorphic entities</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-8d8169201233ee410bfb943fcbd64e8f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3662">#3662</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-16"><span class="target" id="change-4654a27da3f75152d9bb46cdb7469e40"><strong>[orm] [bug] </strong></span>Fixed bug which would cause an eagerly loaded many-to-one attribute
to not be loaded, if the joined eager load were from a row where the
same entity were present multiple times, some calling for the attribute
to be eagerly loaded and others not.  The logic here is revised to
take in the attribute even though a different loader path has
handled the parent entity already.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3431"><span class="std std-ref">Joined eager loading where the same entity is present multiple times in one row</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-4654a27da3f75152d9bb46cdb7469e40">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3431">#3431</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-17"><span class="target" id="change-3e46993e39e8cecdbbf5cb968b80c4eb"><strong>[orm] [bug] </strong></span>A refinement to the logic which adds columns to the resulting SQL when
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.distinct" title="sqlalchemy.orm.query.Query.distinct"><code class="xref py py-meth docutils literal"><span class="pre">Query.distinct()</span></code></a> is combined with <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.order_by" title="sqlalchemy.orm.query.Query.order_by"><code class="xref py py-meth docutils literal"><span class="pre">Query.order_by()</span></code></a> such
that columns which are already present will not be added
a second time, even if they are labeled with a different name.
Regardless of this change, the extra columns added to the SQL have
never been returned in the final result, so this change only impacts
the string form of the statement as well as its behavior when used in
a Core execution context.   Additionally, columns are no longer added
when the DISTINCT ON format is used, provided the query is not
wrapped inside a subquery due to joined eager loading.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3641"><span class="std std-ref">Columns no longer added redundantly with DISTINCT + ORDER BY</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-3e46993e39e8cecdbbf5cb968b80c4eb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3641">#3641</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-18"><span class="target" id="change-89b5808175cb646ca27aee96edc8813f"><strong>[orm] [bug] </strong></span>Fixed issue where two same-named relationships that refer to
a base class and a concrete-inherited subclass would raise an error
if those relationships were set up using &#8220;backref&#8221;, while setting up the
identical configuration using relationship() instead with the conflicting
names would succeed, as is allowed in the case of a concrete mapping.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3630"><span class="std std-ref">Same-named backrefs will not raise an error when applied to concrete inheritance subclasses</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-89b5808175cb646ca27aee96edc8813f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3630">#3630</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-19"><span class="target" id="change-ac6144457b07a73e68843f65fff61adb"><strong>[orm] [bug] </strong></span>The <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.merge" title="sqlalchemy.orm.session.Session.merge"><code class="xref py py-meth docutils literal"><span class="pre">Session.merge()</span></code></a> method now tracks pending objects by
primary key before emitting an INSERT, and merges distinct objects with
duplicate primary keys together as they are encountered, which is
essentially semi-deterministic at best.   This behavior
matches what happens already with persistent objects.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3601"><span class="std std-ref">Session.merge resolves pending conflicts the same as persistent</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-ac6144457b07a73e68843f65fff61adb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3601">#3601</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-20"><span class="target" id="change-dd65aebe5daa65ac33d96732d8c19890"><strong>[orm] [bug] </strong></span>Fixed bug where the &#8220;single table inheritance&#8221; criteria would be
added onto the end of a query in some inappropriate situations, such
as when querying from an exists() of a single-inheritance subclass.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3582"><span class="std std-ref">Further Fixes to single-table inheritance querying</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-dd65aebe5daa65ac33d96732d8c19890">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3582">#3582</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-21"><span class="target" id="change-ad8a491013281436a5ec669721de6d99"><strong>[orm] [bug] </strong></span>Added a new type-level modifier <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.TypeEngine.evaluates_none" title="sqlalchemy.types.TypeEngine.evaluates_none"><code class="xref py py-meth docutils literal"><span class="pre">TypeEngine.evaluates_none()</span></code></a>
which indicates to the ORM that a positive set of None should be
persisted as the value NULL, instead of omitting the column from
the INSERT statement.  This feature is used both as part of the
implementation for <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3514">#3514</a> as well as a standalone feature
available on any type.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3250"><span class="std std-ref">New options allowing explicit persistence of NULL over a default</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-ad8a491013281436a5ec669721de6d99">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3250">#3250</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-22"><span class="target" id="change-48c47319c947b658d154aa9c012b32e3"><strong>[orm] [bug] </strong></span>Internal calls to &#8220;bookkeeping&#8221; functions within
<a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.bulk_save_objects" title="sqlalchemy.orm.session.Session.bulk_save_objects"><code class="xref py py-meth docutils literal"><span class="pre">Session.bulk_save_objects()</span></code></a> and related bulk methods have
been scaled back to the extent that this functionality is not
currently used, e.g. checks for column default values to be
fetched after an INSERT or UPDATE statement.<a class="changeset-link headerlink reference internal" href="#change-48c47319c947b658d154aa9c012b32e3">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3526">#3526</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-23"><span class="target" id="change-9e014772604c4b2bea485723ac44fd4f"><strong>[orm] [bug] [postgresql] </strong></span>Additional fixes have been made regarding the value of <code class="docutils literal"><span class="pre">None</span></code>
in conjunction with the PostgreSQL <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSON</span></code></a> type.  When
the <a class="reference internal" href="../dialects/mysql.html#sqlalchemy.dialects.mysql.JSON.params.none_as_null" title="sqlalchemy.dialects.mysql.JSON"><code class="xref py py-paramref docutils literal"><span class="pre">JSON.none_as_null</span></code></a> flag is left at its default
value of <code class="docutils literal"><span class="pre">False</span></code>, the ORM will now correctly insert the JSON
&#8220;&#8216;null&#8217;&#8221; string into the column whenever the value on the ORM
object is set to the value <code class="docutils literal"><span class="pre">None</span></code> or when the value <code class="docutils literal"><span class="pre">None</span></code>
is used with <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.bulk_insert_mappings" title="sqlalchemy.orm.session.Session.bulk_insert_mappings"><code class="xref py py-meth docutils literal"><span class="pre">Session.bulk_insert_mappings()</span></code></a>,
<strong>including</strong> if the column has a default or server default on it.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3514"><span class="std std-ref">JSON &#8220;null&#8221; is inserted as expected with ORM operations, regardless of column default present</span></a></p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3250"><span class="std std-ref">New options allowing explicit persistence of NULL over a default</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-9e014772604c4b2bea485723ac44fd4f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3514">#3514</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-24"><span class="target" id="change-09669497f855398505a14d647f0b239c"><strong>[orm] [change] </strong></span>The <a class="reference internal" href="../orm/mapping_api.html#sqlalchemy.orm.mapper.Mapper.params.order_by" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-paramref docutils literal"><span class="pre">Mapper.order_by</span></code></a> parameter is deprecated.
This is an old parameter no longer relevant to how SQLAlchemy
works, once the Query object was introduced.  By deprecating it
we establish that we aren&#8217;t supporting non-working use cases
and that we encourage applications to move off of the use of this
parameter.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3394"><span class="std std-ref">Mapper.order_by is deprecated</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-09669497f855398505a14d647f0b239c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3394">#3394</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-25"><span class="target" id="change-32d6229592346b5ad6b2e70e7d6a902d"><strong>[orm] [change] </strong></span>The <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.session.Session.params.weak_identity_map" title="sqlalchemy.orm.session.Session"><code class="xref py py-paramref docutils literal"><span class="pre">Session.weak_identity_map</span></code></a> parameter is deprecated.
See the new recipe at <a class="reference internal" href="../orm/session_state_management.html#session-referencing-behavior"><span class="std std-ref">Session Referencing Behavior</span></a> for
an event-based approach to maintaining strong identity map behavior.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-2677"><span class="std std-ref">New Session lifecycle events</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-32d6229592346b5ad6b2e70e7d6a902d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2677">#2677</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-engine">
<h3>engine<a class="headerlink" href="#change-1.1.0b1-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-26"><span class="target" id="change-a6533a6047f760f9f9ccee7003a447c2"><strong>[engine] [feature] </strong></span>Added connection pool events <code class="xref py py-meth docutils literal"><span class="pre">ConnectionEvents.close()</span></code>,
<code class="xref py py-meth docutils literal"><span class="pre">ConnectionEvents.detach()</span></code>,
<code class="xref py py-meth docutils literal"><span class="pre">ConnectionEvents.close_detached()</span></code>.<a class="changeset-link headerlink reference internal" href="#change-a6533a6047f760f9f9ccee7003a447c2">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-27"><span class="target" id="change-d0cb65da9fa15d19af196aad7ff5623e"><strong>[engine] [feature] </strong></span>All string formatting of bound parameter sets and result rows for
logging, exception, and  <code class="docutils literal"><span class="pre">repr()</span></code> purposes now truncate very large
scalar values within each collection, including an
&#8220;N characters truncated&#8221;
notation, similar to how the display for large multiple-parameter sets
are themselves truncated.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-2837"><span class="std std-ref">Large parameter and row values are now truncated in logging and exception displays</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-d0cb65da9fa15d19af196aad7ff5623e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2837">#2837</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-28"><span class="target" id="change-b54566e0a3f779d77ce78d1bb4807399"><strong>[engine] [feature] </strong></span>Multi-tenancy schema translation for <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> objects is added.
This supports the use case of an application that uses the same set of
<a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> objects in many schemas, such as schema-per-user.
A new execution option
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection.execution_options.params.schema_translate_map" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-paramref docutils literal"><span class="pre">Connection.execution_options.schema_translate_map</span></code></a> is
added.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-2685"><span class="std std-ref">Multi-Tenancy Schema Translation for Table objects</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-b54566e0a3f779d77ce78d1bb4807399">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2685">#2685</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-29"><span class="target" id="change-1afaa182eadbbcdb22dd3e0761a0950f"><strong>[engine] [feature] </strong></span>Added a new entrypoint system to the engine to allow &#8220;plugins&#8221; to
be stated in the query string for a URL.   Custom plugins can
be written which will be given the chance up front to alter and/or
consume the engine&#8217;s URL and keyword arguments, and then at engine
create time will be given the engine itself to allow additional
modifications or event registration.  Plugins are written as a
subclass of <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.CreateEnginePlugin" title="sqlalchemy.engine.CreateEnginePlugin"><code class="xref py py-class docutils literal"><span class="pre">CreateEnginePlugin</span></code></a>; see that class for
details.<a class="changeset-link headerlink reference internal" href="#change-1afaa182eadbbcdb22dd3e0761a0950f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3536">#3536</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-sql">
<h3>sql<a class="headerlink" href="#change-1.1.0b1-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-30"><span class="target" id="change-360a40aabf1019e2f12d467220dd3e37"><strong>[sql] [feature] </strong></span>Added TABLESAMPLE support via the new <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.FromClause.tablesample" title="sqlalchemy.sql.expression.FromClause.tablesample"><code class="xref py py-meth docutils literal"><span class="pre">FromClause.tablesample()</span></code></a>
method and standalone function.  Pull request courtesy Ilja Everilä.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3718"><span class="std std-ref">Support for TABLESAMPLE</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-360a40aabf1019e2f12d467220dd3e37">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3718">#3718</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-31"><span class="target" id="change-0fea1bc883b8c90b2f54079c0440f160"><strong>[sql] [feature] </strong></span>Added support for ranges in window functions, using the
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.over.params.range_" title="sqlalchemy.sql.expression.over"><code class="xref py py-paramref docutils literal"><span class="pre">expression.over.range_</span></code></a> and
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.over.params.rows" title="sqlalchemy.sql.expression.over"><code class="xref py py-paramref docutils literal"><span class="pre">expression.over.rows</span></code></a> parameters.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3049"><span class="std std-ref">Support for RANGE and ROWS specification within window functions</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-0fea1bc883b8c90b2f54079c0440f160">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3049">#3049</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-32"><span class="target" id="change-bd17df9db744dbb7fa2b2301c2405bc8"><strong>[sql] [feature] </strong></span>Implemented reflection of CHECK constraints for SQLite and PostgreSQL.
This is available via the new inspector method
<a class="reference internal" href="../core/reflection.html#sqlalchemy.engine.reflection.Inspector.get_check_constraints" title="sqlalchemy.engine.reflection.Inspector.get_check_constraints"><code class="xref py py-meth docutils literal"><span class="pre">Inspector.get_check_constraints()</span></code></a> as well as when reflecting
<a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> objects in the form of <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal"><span class="pre">CheckConstraint</span></code></a>
objects present in the constraints collection.  Pull request courtesy
Alex Grönholm.<a class="changeset-link headerlink reference internal" href="#change-bd17df9db744dbb7fa2b2301c2405bc8">¶</a><p>References: <a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy/pull-request/80">pull request bitbucket:80</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-33"><span class="target" id="change-47ebc8c173b02b3858f2a91e5c4bc3d4"><strong>[sql] [feature] </strong></span>New <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.is_distinct_from" title="sqlalchemy.sql.operators.ColumnOperators.is_distinct_from"><code class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.is_distinct_from()</span></code></a> and
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.isnot_distinct_from" title="sqlalchemy.sql.operators.ColumnOperators.isnot_distinct_from"><code class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.isnot_distinct_from()</span></code></a> operators; pull request
courtesy Sebastian Bank.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-is-distinct-from"><span class="std std-ref">Support for IS DISTINCT FROM and IS NOT DISTINCT FROM</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-47ebc8c173b02b3858f2a91e5c4bc3d4">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-34"><span class="target" id="change-852081e60156f45afd19aa6656b45262"><strong>[sql] [feature] </strong></span>Added a hook in <code class="xref py py-meth docutils literal"><span class="pre">DDLCompiler.visit_create_table()</span></code> called
<code class="xref py py-meth docutils literal"><span class="pre">DDLCompiler.create_table_suffix()</span></code>, allowing custom dialects
to add keywords after the &#8220;CREATE TABLE&#8221; clause.  Pull request
courtesy Mark Sandan.<a class="changeset-link headerlink reference internal" href="#change-852081e60156f45afd19aa6656b45262">¶</a><p>References: <a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/275">pull request github:275</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-35"><span class="target" id="change-0746e16f1e36084f02c6d55a068046a0"><strong>[sql] [feature] </strong></span>Negative integer indexes are now accommodated by rows
returned from a <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.ResultProxy" title="sqlalchemy.engine.ResultProxy"><code class="xref py py-class docutils literal"><span class="pre">ResultProxy</span></code></a>.  Pull request courtesy
Emanuele Gaifas.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-gh-231"><span class="std std-ref">Negative integer indexes accommodated by Core result rows</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-0746e16f1e36084f02c6d55a068046a0">¶</a><p>References: <a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/231">pull request github:231</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-36"><span class="target" id="change-b96a97734ea3e708037e4856542e8e74"><strong>[sql] [feature] </strong></span>Added <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.Select.lateral" title="sqlalchemy.sql.expression.Select.lateral"><code class="xref py py-meth docutils literal"><span class="pre">Select.lateral()</span></code></a> and related constructs to allow
for the SQL standard LATERAL keyword, currently only supported
by PostgreSQL.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-2857"><span class="std std-ref">Support for the SQL LATERAL keyword</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-b96a97734ea3e708037e4856542e8e74">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2857">#2857</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-37"><span class="target" id="change-a91f9625fbd8a65e11808cecf7088895"><strong>[sql] [feature] </strong></span>Added support for rendering &#8220;FULL OUTER JOIN&#8221; to both Core and ORM.
Pull request courtesy Stefan Urbanek.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-1957"><span class="std std-ref">Core and ORM support for FULL OUTER JOIN</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-a91f9625fbd8a65e11808cecf7088895">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1957">#1957</a>, <a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/209">pull request github:209</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-38"><span class="target" id="change-2e0fda4bfd6e2b5255952d61f70e148f"><strong>[sql] [feature] </strong></span>CTE functionality has been expanded to support all DML, allowing
INSERT, UPDATE, and DELETE statements to both specify their own
WITH clause, as well as for these statements themselves to be
CTE expressions when they include a RETURNING clause.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-2551"><span class="std std-ref">CTE Support for INSERT, UPDATE, DELETE</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-2e0fda4bfd6e2b5255952d61f70e148f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2551">#2551</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-39"><span class="target" id="change-9d6d98d7acabc8564b8eebb11c28a624"><strong>[sql] [feature] </strong></span>Added support for PEP-435-style enumerated classes, namely
Python 3&#8217;s <code class="docutils literal"><span class="pre">enum.Enum</span></code> class but also including compatible
enumeration libraries, to the <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal"><span class="pre">types.Enum</span></code></a> datatype.
The <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal"><span class="pre">types.Enum</span></code></a> datatype now also performs in-Python validation
of incoming values, and adds an option to forego creating the
CHECK constraint <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum.params.create_constraint" title="sqlalchemy.types.Enum"><code class="xref py py-paramref docutils literal"><span class="pre">Enum.create_constraint</span></code></a>.
Pull request courtesy Alex Grönholm.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3292"><span class="std std-ref">Support for Python&#8217;s native enum type and compatible forms</span></a></p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3095"><span class="std std-ref">The Enum type now does in-Python validation of values</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-9d6d98d7acabc8564b8eebb11c28a624">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3292">#3292</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3095">#3095</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-40"><span class="target" id="change-62a0a934a2b0bba2ce629ca376fa5890"><strong>[sql] [feature] </strong></span>A deep improvement to the recently added <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.TextClause.columns" title="sqlalchemy.sql.expression.TextClause.columns"><code class="xref py py-meth docutils literal"><span class="pre">TextClause.columns()</span></code></a>
method, and its interaction with result-row processing, now allows
the columns passed to the method to be positionally matched with the
result columns in the statement, rather than matching on name alone.
The advantage to this includes that when linking a textual SQL statement
to an ORM or Core table model, no system of labeling or de-duping of
common column names needs to occur, which also means there&#8217;s no need
to worry about how label names match to ORM columns and so-forth.  In
addition, the <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.ResultProxy" title="sqlalchemy.engine.ResultProxy"><code class="xref py py-class docutils literal"><span class="pre">ResultProxy</span></code></a> has been further enhanced to
map column and string keys to a row with greater precision in some
cases.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3501"><span class="std std-ref">ResultSet column matching enhancements; positional column setup for textual SQL</span></a> - feature overview</p>
<p class="last"><a class="reference internal" href="migration_11.html#behavior-change-3501"><span class="std std-ref">TextClause.columns() will match columns positionally, not by name, when passed positionally</span></a> - backwards compatibility remarks</p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-62a0a934a2b0bba2ce629ca376fa5890">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3501">#3501</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-41"><span class="target" id="change-17c3b4f058ed555d27ca96a245bdde91"><strong>[sql] [feature] </strong></span>Added a new type to core <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.JSON" title="sqlalchemy.types.JSON"><code class="xref py py-class docutils literal"><span class="pre">types.JSON</span></code></a>.  This is the
base of the PostgreSQL <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSON</span></code></a> type as well as that
of the new <a class="reference internal" href="../dialects/mysql.html#sqlalchemy.dialects.mysql.JSON" title="sqlalchemy.dialects.mysql.JSON"><code class="xref py py-class docutils literal"><span class="pre">mysql.JSON</span></code></a> type, so that a PG/MySQL-agnostic
JSON column may be used.  The type features basic index and path
searching support.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3619"><span class="std std-ref">JSON support added to Core</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-17c3b4f058ed555d27ca96a245bdde91">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3619">#3619</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-42"><span class="target" id="change-f1a5b143ac2614a44c4d4be425086e5e"><strong>[sql] [feature] </strong></span>Added support for &#8220;set-aggregate&#8221; functions of the form
<code class="docutils literal"><span class="pre">&lt;function&gt;</span> <span class="pre">WITHIN</span> <span class="pre">GROUP</span> <span class="pre">(ORDER</span> <span class="pre">BY</span> <span class="pre">&lt;criteria&gt;)</span></code>, using the
method <a class="reference internal" href="../core/functions.html#sqlalchemy.sql.functions.FunctionElement.within_group" title="sqlalchemy.sql.functions.FunctionElement.within_group"><code class="xref py py-meth docutils literal"><span class="pre">FunctionElement.within_group()</span></code></a>.  A series of common
set-aggregate functions with return types derived from the set have
been added. This includes functions like <a class="reference internal" href="../core/functions.html#sqlalchemy.sql.functions.percentile_cont" title="sqlalchemy.sql.functions.percentile_cont"><code class="xref py py-class docutils literal"><span class="pre">percentile_cont</span></code></a>,
<a class="reference internal" href="../core/functions.html#sqlalchemy.sql.functions.dense_rank" title="sqlalchemy.sql.functions.dense_rank"><code class="xref py py-class docutils literal"><span class="pre">dense_rank</span></code></a> and others.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3132"><span class="std std-ref">New Function features, &#8220;WITHIN GROUP&#8221;, array_agg and set aggregate functions</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-f1a5b143ac2614a44c4d4be425086e5e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1370">#1370</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-43"><span class="target" id="change-1765f3641a6e264a7fe24088c46a4b59"><strong>[sql] [feature] [postgresql] </strong></span>Added support for the SQL-standard function <a class="reference internal" href="../core/functions.html#sqlalchemy.sql.functions.array_agg" title="sqlalchemy.sql.functions.array_agg"><code class="xref py py-class docutils literal"><span class="pre">array_agg</span></code></a>,
which automatically returns an <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a> of the correct type
and supports index / slice operations, as well as
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.array_agg" title="sqlalchemy.dialects.postgresql.array_agg"><code class="xref py py-func docutils literal"><span class="pre">postgresql.array_agg()</span></code></a>, which returns a <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a>
with additional comparison features.   As arrays are only
supported on PostgreSQL at the moment, only actually works on
PostgreSQL.  Also added a new construct
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.aggregate_order_by" title="sqlalchemy.dialects.postgresql.aggregate_order_by"><code class="xref py py-class docutils literal"><span class="pre">postgresql.aggregate_order_by</span></code></a> in support of PG&#8217;s
&#8220;ORDER BY&#8221; extension.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3132"><span class="std std-ref">New Function features, &#8220;WITHIN GROUP&#8221;, array_agg and set aggregate functions</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-1765f3641a6e264a7fe24088c46a4b59">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3132">#3132</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-44"><span class="target" id="change-073de265914ed4fee6ddbc41fb452906"><strong>[sql] [feature] </strong></span>Added a new type to core <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.ARRAY" title="sqlalchemy.types.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">types.ARRAY</span></code></a>.  This is the
base of the PostgreSQL <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a> type, and is now part of Core
to begin supporting various SQL-standard array-supporting features
including some functions and eventual support for native arrays
on other databases that have an &#8220;array&#8221; concept, such as DB2 or Oracle.
Additionally, new operators <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.any_" title="sqlalchemy.sql.expression.any_"><code class="xref py py-func docutils literal"><span class="pre">expression.any_()</span></code></a> and
<a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.all_" title="sqlalchemy.sql.expression.all_"><code class="xref py py-func docutils literal"><span class="pre">expression.all_()</span></code></a> have been added.  These support not just
array constructs on PostgreSQL, but also subqueries that are usable
on MySQL (but sadly not on PostgreSQL).<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3516"><span class="std std-ref">Array support added to Core; new ANY and ALL operators</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-073de265914ed4fee6ddbc41fb452906">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3516">#3516</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-45"><span class="target" id="change-33f3b50c7e87df7564c217803f642cf6"><strong>[sql] [bug] </strong></span><a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.FromClause.count" title="sqlalchemy.sql.expression.FromClause.count"><code class="xref py py-meth docutils literal"><span class="pre">FromClause.count()</span></code></a> is deprecated.  This function makes use of
an arbitrary column in the table and is not reliable; for Core use,
<code class="docutils literal"><span class="pre">func.count()</span></code> should be preferred.<a class="changeset-link headerlink reference internal" href="#change-33f3b50c7e87df7564c217803f642cf6">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3724">#3724</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-46"><span class="target" id="change-0555461d7e299c51372dcc39d1516f29"><strong>[sql] [bug] </strong></span>Fixed an assertion that would raise somewhat inappropriately
if a <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal"><span class="pre">Index</span></code></a> were associated with a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> that
is associated with a lower-case-t <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal"><span class="pre">TableClause</span></code></a>; the
association should be ignored for the purposes of associating
the index with a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>.<a class="changeset-link headerlink reference internal" href="#change-0555461d7e299c51372dcc39d1516f29">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3616">#3616</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-47"><span class="target" id="change-4c12275c79c42b62d1c375f76c771599"><strong>[sql] [bug] </strong></span>The <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.type_coerce" title="sqlalchemy.sql.expression.type_coerce"><code class="xref py py-func docutils literal"><span class="pre">type_coerce()</span></code></a> construct is now a fully fledged Core
expression element which is late-evaluated at compile time.  Previously,
the function was only a conversion function which would handle different
expression inputs by returning either a <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.Label" title="sqlalchemy.sql.expression.Label"><code class="xref py py-class docutils literal"><span class="pre">Label</span></code></a> of a column-oriented
expression or a copy of a given <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.BindParameter" title="sqlalchemy.sql.expression.BindParameter"><code class="xref py py-class docutils literal"><span class="pre">BindParameter</span></code></a> object,
which in particular prevented the operation from being logically
maintained when an ORM-level expression transformation would convert
a column to a bound parameter (e.g. for lazy loading).<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3531"><span class="std std-ref">The type_coerce function is now a persistent SQL element</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-4c12275c79c42b62d1c375f76c771599">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3531">#3531</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-48"><span class="target" id="change-6f4cf479ea625f2b2f5aa2a4e952959b"><strong>[sql] [bug] </strong></span>The <a class="reference internal" href="../core/custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal"><span class="pre">TypeDecorator</span></code></a> type extender will now work in conjunction
with a <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal"><span class="pre">SchemaType</span></code></a> implementation, typically <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal"><span class="pre">Enum</span></code></a>
or <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Boolean" title="sqlalchemy.types.Boolean"><code class="xref py py-class docutils literal"><span class="pre">Boolean</span></code></a> with regards to ensuring that the per-table
events are propagated from the implementation type to the outer type.
These events are used
to ensure that the constraints or PostgreSQL types (e.g. ENUM)
are correctly created (and possibly dropped) along with the parent
table.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-2919"><span class="std std-ref">TypeDecorator now works with Enum, Boolean, &#8220;schema&#8221; types automatically</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-6f4cf479ea625f2b2f5aa2a4e952959b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2919">#2919</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-49"><span class="target" id="change-e9e0e04652a369370f2eae50538498c9"><strong>[sql] [bug] </strong></span>The behavior of the <a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.union" title="sqlalchemy.sql.expression.union"><code class="xref py py-func docutils literal"><span class="pre">union()</span></code></a> construct and related constructs
such as <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.union" title="sqlalchemy.orm.query.Query.union"><code class="xref py py-meth docutils literal"><span class="pre">Query.union()</span></code></a> now handle the case where the embedded
SELECT statements need to be parenthesized due to the fact that they
include LIMIT, OFFSET and/or ORDER BY.   These queries <strong>do not work
on SQLite</strong>, and will fail on that backend as they did before, but
should now work on all other backends.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-2528"><span class="std std-ref">A UNION or similar of SELECTs with LIMIT/OFFSET/ORDER BY now parenthesizes the embedded selects</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-e9e0e04652a369370f2eae50538498c9">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2528">#2528</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-50"><span class="target" id="change-6d7175b6067e4d63a84c6dccbbda213f"><strong>[sql] [mysql] [change] </strong></span>The system by which a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> considers itself to be an
&#8220;auto increment&#8221; column has been changed, such that autoincrement
is no longer implicitly enabled for a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> that has a
composite primary key.  In order to accommodate being able to enable
autoincrement for a composite PK member column while at the same time
maintaining SQLAlchemy&#8217;s long standing behavior of enabling
implicit autoincrement for a single integer primary key, a third
state has been added to the <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column.params.autoincrement" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal"><span class="pre">Column.autoincrement</span></code></a> parameter
<code class="docutils literal"><span class="pre">&quot;auto&quot;</span></code>, which is now the default.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3216"><span class="std std-ref">The .autoincrement directive is no longer implicitly enabled for a composite primary key column</span></a></p>
<p class="last"><a class="reference internal" href="migration_11.html#change-mysql-3216"><span class="std std-ref">No more generation of an implicit KEY for composite primary key w/ AUTO_INCREMENT</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-6d7175b6067e4d63a84c6dccbbda213f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3216">#3216</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-schema">
<h3>schema<a class="headerlink" href="#change-1.1.0b1-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-51"><span class="target" id="change-c7382e5258b1fe48e537f64ed89e23f6"><strong>[schema] [enhancement] </strong></span>The default generation functions passed to <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> objects
are now run through &#8220;update_wrapper&#8221;, or an equivalent function
if a callable non-function is passed, so that introspection tools
preserve the name and docstring of the wrapped function.  Pull
request courtesy hsum.<a class="changeset-link headerlink reference internal" href="#change-c7382e5258b1fe48e537f64ed89e23f6">¶</a><p>References: <a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/204">pull request github:204</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-postgresql">
<h3>postgresql<a class="headerlink" href="#change-1.1.0b1-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-52"><span class="target" id="change-3f5f442478e7a8389853ac41b3252de8"><strong>[postgresql] [feature] </strong></span>Added support for PostgreSQL&#8217;s INSERT..ON CONFLICT using a new
PostgreSQL-specific <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.dml.Insert" title="sqlalchemy.dialects.postgresql.dml.Insert"><code class="xref py py-class docutils literal"><span class="pre">postgresql.dml.Insert</span></code></a> object.
Pull request and extensive efforts here by Robin Thomas.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3529"><span class="std std-ref">Support for INSERT..ON CONFLICT (DO UPDATE | DO NOTHING)</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-3f5f442478e7a8389853ac41b3252de8">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3529">#3529</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-53"><span class="target" id="change-5d11b5a42524d1e67d0cff645c9823dc"><strong>[postgresql] [feature] </strong></span>The DDL for DROP INDEX will emit &#8220;CONCURRENTLY&#8221; if the
<code class="docutils literal"><span class="pre">postgresql_concurrently</span></code> flag is set upon the
<a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal"><span class="pre">Index</span></code></a> and if the database in use is detected as
PostgreSQL version 9.2 or greater.   For CREATE INDEX, database
version detection is also added which will omit the clause if
PG version is less than 8.2.  Pull request courtesy Iuri de Silvio.<a class="changeset-link headerlink reference internal" href="#change-5d11b5a42524d1e67d0cff645c9823dc">¶</a><p>References: <a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy/pull-request/84">pull request bitbucket:84</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-54"><span class="target" id="change-28b7f4677e511cd22a9dd16745eed45d"><strong>[postgresql] [feature] </strong></span>Added new parameter <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.base.PGInspector.get_view_names.params.include" title="sqlalchemy.dialects.postgresql.base.PGInspector.get_view_names"><code class="xref py py-paramref docutils literal"><span class="pre">PGInspector.get_view_names.include</span></code></a>,
allowing specification for what kinds of views should be returned.
Currently &#8220;plain&#8221; and &#8220;materialized&#8221; views are included.  Pull
request courtesy Sebastian Bank.<a class="changeset-link headerlink reference internal" href="#change-28b7f4677e511cd22a9dd16745eed45d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3588">#3588</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-55"><span class="target" id="change-a14a8b1bc9046c1b5c58cd0aba51b98d"><strong>[postgresql] [feature] </strong></span>Added <code class="docutils literal"><span class="pre">postgresql_tablespace</span></code> as an argument to <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal"><span class="pre">Index</span></code></a>
to allow specification of TABLESPACE for an index in PostgreSQL.
Complements the same-named parameter on <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>.  Pull
request courtesy Benjamin Bertrand.<a class="changeset-link headerlink reference internal" href="#change-a14a8b1bc9046c1b5c58cd0aba51b98d">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3720">#3720</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-56"><span class="target" id="change-9a9f3cf4012ddda75e5cfa9bba230cee"><strong>[postgresql] [feature] </strong></span>Added new parameter
<a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.key_share" title="sqlalchemy.sql.expression.GenerativeSelect.with_for_update"><code class="xref py py-paramref docutils literal"><span class="pre">GenerativeSelect.with_for_update.key_share</span></code></a>, which
will render the <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">NO</span> <span class="pre">KEY</span> <span class="pre">UPDATE</span></code> version of <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code>
and <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">KEY</span> <span class="pre">SHARE</span></code> instead of <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">SHARE</span></code>
on the PostgreSQL backend.  Pull request courtesy Sergey Skopin.<a class="changeset-link headerlink reference internal" href="#change-9a9f3cf4012ddda75e5cfa9bba230cee">¶</a><p>References: <a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/297">pull request github:297</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-57"><span class="target" id="change-f4f81365de9118f24274587ffddf8595"><strong>[postgresql] [feature] [oracle] </strong></span>Added new parameter
<a class="reference internal" href="../core/selectable.html#sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.skip_locked" title="sqlalchemy.sql.expression.GenerativeSelect.with_for_update"><code class="xref py py-paramref docutils literal"><span class="pre">GenerativeSelect.with_for_update.skip_locked</span></code></a>, which
will render the <code class="docutils literal"><span class="pre">SKIP</span> <span class="pre">LOCKED</span></code> phrase for a <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code> or
<code class="docutils literal"><span class="pre">FOR</span> <span class="pre">SHARE</span></code> lock on the PostgreSQL and Oracle backends.  Pull
request courtesy Jack Zhou.<a class="changeset-link headerlink reference internal" href="#change-f4f81365de9118f24274587ffddf8595">¶</a><p>References: <a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy/pull-request/86">pull request bitbucket:86</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-58"><span class="target" id="change-96e76936ae13e7cd8afafdfe0046aece"><strong>[postgresql] [feature] </strong></span>Added a new dialect for the PyGreSQL PostgreSQL dialect.  Thanks
to Christoph Zwerschke and Kaolin Imago Fire for their efforts.<a class="changeset-link headerlink reference internal" href="#change-96e76936ae13e7cd8afafdfe0046aece">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-59"><span class="target" id="change-19aa6de2dd87b7d89df8d37af407d32c"><strong>[postgresql] [feature] </strong></span>Added a new constant <code class="xref py py-attr docutils literal"><span class="pre">postgresql.JSON.NULL</span></code>, indicating
that the JSON NULL value should be used for a value
regardless of other settings.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3514-jsonnull"><span class="std std-ref">New JSON.NULL Constant Added</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-19aa6de2dd87b7d89df8d37af407d32c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3514">#3514</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-60"><span class="target" id="change-d432d3f0dea5755e1961e2900621f5cb"><strong>[postgresql] [bug] </strong></span>Added support for reflecting the source of materialized views
to the PostgreSQL version of the <a class="reference internal" href="../core/reflection.html#sqlalchemy.engine.reflection.Inspector.get_view_definition" title="sqlalchemy.engine.reflection.Inspector.get_view_definition"><code class="xref py py-meth docutils literal"><span class="pre">Inspector.get_view_definition()</span></code></a>
method.<a class="changeset-link headerlink reference internal" href="#change-d432d3f0dea5755e1961e2900621f5cb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3587">#3587</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-61"><span class="target" id="change-47dd8bf4fad0416dfd0377b613df9e99"><strong>[postgresql] [bug] </strong></span>The use of a <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a> object that refers
to a <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal"><span class="pre">types.Enum</span></code></a> or <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ENUM" title="sqlalchemy.dialects.postgresql.ENUM"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ENUM</span></code></a> subtype
will now emit the expected &#8220;CREATE TYPE&#8221; and &#8220;DROP TYPE&#8221; DDL when
the type is used within a &#8220;CREATE TABLE&#8221; or &#8220;DROP TABLE&#8221;.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-2729"><span class="std std-ref">ARRAY with ENUM will now emit CREATE TYPE for the ENUM</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-47dd8bf4fad0416dfd0377b613df9e99">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2729">#2729</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-62"><span class="target" id="change-de38578e28bc8265d15f20fa71a4ac1b"><strong>[postgresql] [bug] </strong></span>The &#8220;hashable&#8221; flag on special datatypes such as <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a>,
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSON</span></code></a> and <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.HSTORE" title="sqlalchemy.dialects.postgresql.HSTORE"><code class="xref py py-class docutils literal"><span class="pre">postgresql.HSTORE</span></code></a> is now
set to False, which allows these types to be fetchable in ORM
queries that include entities within the row.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-3499"><span class="std std-ref">Changes regarding &#8220;unhashable&#8221; types</span></a></p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3499-postgresql"><span class="std std-ref">ARRAY and JSON types now correctly specify &#8220;unhashable&#8221;</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-de38578e28bc8265d15f20fa71a4ac1b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3499">#3499</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-63"><span class="target" id="change-8da75e31c8cd6d00e80ba3917b6d4e5b"><strong>[postgresql] [bug] </strong></span>The PostgreSQL <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a> type now supports multidimensional
indexed access, e.g. expressions such as <code class="docutils literal"><span class="pre">somecol[5][6]</span></code> without
any need for explicit casts or type coercions, provided
that the <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY.params.dimensions" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-paramref docutils literal"><span class="pre">postgresql.ARRAY.dimensions</span></code></a> parameter is set to the
desired number of dimensions.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3503"><span class="std std-ref">Correct SQL Types are Established from Indexed Access of ARRAY, JSON, HSTORE</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-8da75e31c8cd6d00e80ba3917b6d4e5b">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3487">#3487</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-64"><span class="target" id="change-955064818187d78a11ba0c613973c45a"><strong>[postgresql] [bug] </strong></span>The return type for the <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSON</span></code></a> and <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSONB" title="sqlalchemy.dialects.postgresql.JSONB"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSONB</span></code></a>
when using indexed access has been fixed to work like PostgreSQL itself,
and returns an expression that itself is of type <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSON</span></code></a>
or <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSONB" title="sqlalchemy.dialects.postgresql.JSONB"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSONB</span></code></a>.  Previously, the accessor would return
<a class="reference internal" href="../core/type_api.html#sqlalchemy.types.NullType" title="sqlalchemy.types.NullType"><code class="xref py py-class docutils literal"><span class="pre">NullType</span></code></a> which disallowed subsequent JSON-like operators to be
used.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3503"><span class="std std-ref">Correct SQL Types are Established from Indexed Access of ARRAY, JSON, HSTORE</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-955064818187d78a11ba0c613973c45a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3503">#3503</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-65"><span class="target" id="change-e131ab33b04196b6d2081a5e820d4974"><strong>[postgresql] [bug] </strong></span>The <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSON</span></code></a>, <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSONB" title="sqlalchemy.dialects.postgresql.JSONB"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSONB</span></code></a> and
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.HSTORE" title="sqlalchemy.dialects.postgresql.HSTORE"><code class="xref py py-class docutils literal"><span class="pre">postgresql.HSTORE</span></code></a> datatypes now allow full control over the
return type from an indexed textual access operation, either <code class="docutils literal"><span class="pre">column[someindex].astext</span></code>
for a JSON type or <code class="docutils literal"><span class="pre">column[someindex]</span></code> for an HSTORE type,
via the <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON.params.astext_type" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-paramref docutils literal"><span class="pre">postgresql.JSON.astext_type</span></code></a> and
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.HSTORE.params.text_type" title="sqlalchemy.dialects.postgresql.HSTORE"><code class="xref py py-paramref docutils literal"><span class="pre">postgresql.HSTORE.text_type</span></code></a> parameters.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3503"><span class="std std-ref">Correct SQL Types are Established from Indexed Access of ARRAY, JSON, HSTORE</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-e131ab33b04196b6d2081a5e820d4974">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3503">#3503</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-66"><span class="target" id="change-6dfedfbab62807e6296ba6410d21fa16"><strong>[postgresql] [bug] </strong></span>The <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON.Comparator.astext" title="sqlalchemy.dialects.postgresql.JSON.Comparator.astext"><code class="xref py py-attr docutils literal"><span class="pre">postgresql.JSON.Comparator.astext</span></code></a> modifier no longer
calls upon <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.cast" title="sqlalchemy.sql.expression.ColumnElement.cast"><code class="xref py py-meth docutils literal"><span class="pre">ColumnElement.cast()</span></code></a> implicitly, as PG&#8217;s JSON/JSONB
types allow cross-casting between each other as well.  Code that
makes use of <a class="reference internal" href="../core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.cast" title="sqlalchemy.sql.expression.ColumnElement.cast"><code class="xref py py-meth docutils literal"><span class="pre">ColumnElement.cast()</span></code></a> on JSON indexed access,
e.g. <code class="docutils literal"><span class="pre">col[someindex].cast(Integer)</span></code>, will need to be changed
to call <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.JSON.Comparator.astext" title="sqlalchemy.dialects.postgresql.JSON.Comparator.astext"><code class="xref py py-attr docutils literal"><span class="pre">postgresql.JSON.Comparator.astext</span></code></a> explicitly.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3503-cast"><span class="std std-ref">The JSON cast() operation now requires .astext is called explicitly</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-6dfedfbab62807e6296ba6410d21fa16">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3503">#3503</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-67"><span class="target" id="change-6330dccd9f95ad0cf2168ee7ac940254"><strong>[postgresql] [change] </strong></span>The <code class="docutils literal"><span class="pre">sqlalchemy.dialects.postgres</span></code> module, long deprecated, is
removed; this has emitted a warning for many years and projects
should be calling upon <code class="docutils literal"><span class="pre">sqlalchemy.dialects.postgresql</span></code>.
Engine URLs of the form <code class="docutils literal"><span class="pre">postgres://</span></code> will still continue to function,
however.<a class="changeset-link headerlink reference internal" href="#change-6330dccd9f95ad0cf2168ee7ac940254">¶</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-mysql">
<h3>mysql<a class="headerlink" href="#change-1.1.0b1-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-68"><span class="target" id="change-9205bf2037f2de73d4da5d5c4ede6d18"><strong>[mysql] [feature] </strong></span>Added support for &#8220;autocommit&#8221; on MySQL drivers, via the
AUTOCOMMIT isolation level setting.  Pull request courtesy
Roman Podoliaka.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3332"><span class="std std-ref">Added support for AUTOCOMMIT &#8220;isolation level&#8221;</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-9205bf2037f2de73d4da5d5c4ede6d18">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3332">#3332</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-69"><span class="target" id="change-1f91faadfeca6a6deca2362e7f770a4c"><strong>[mysql] [feature] </strong></span>Added <a class="reference internal" href="../dialects/mysql.html#sqlalchemy.dialects.mysql.JSON" title="sqlalchemy.dialects.mysql.JSON"><code class="xref py py-class docutils literal"><span class="pre">mysql.JSON</span></code></a> for MySQL 5.7.  The JSON type provides
persistence of JSON values in MySQL as well as basic operator support
of &#8220;getitem&#8221; and &#8220;getpath&#8221;, making use of the <code class="docutils literal"><span class="pre">JSON_EXTRACT</span></code>
function in order to refer to individual paths in a JSON structure.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3547"><span class="std std-ref">MySQL JSON Support</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-1f91faadfeca6a6deca2362e7f770a4c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3547">#3547</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-70"><span class="target" id="change-d2790f0772bca4a21e0a612e8157501c"><strong>[mysql] [change] </strong></span>The MySQL dialect no longer generates an extra &#8220;KEY&#8221; directive when
generating CREATE TABLE DDL for a table using InnoDB with a
composite primary key with AUTO_INCREMENT on a column that isn&#8217;t the
first column;  to overcome InnoDB&#8217;s limitation here, the PRIMARY KEY
constraint is now generated with the AUTO_INCREMENT column placed
first in the list of columns.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><a class="reference internal" href="migration_11.html#change-mysql-3216"><span class="std std-ref">No more generation of an implicit KEY for composite primary key w/ AUTO_INCREMENT</span></a></p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3216"><span class="std std-ref">The .autoincrement directive is no longer implicitly enabled for a composite primary key column</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-d2790f0772bca4a21e0a612e8157501c">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3216">#3216</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-sqlite">
<h3>sqlite<a class="headerlink" href="#change-1.1.0b1-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-71"><span class="target" id="change-4b6e53e3c72102adbc3539e8d0687737"><strong>[sqlite] [feature] </strong></span>The SQLite dialect now reflects ON UPDATE and ON DELETE phrases
within foreign key constraints.  Pull request courtesy
Michal Petrucha.<a class="changeset-link headerlink reference internal" href="#change-4b6e53e3c72102adbc3539e8d0687737">¶</a><p>References: <a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/244">pull request github:244</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-72"><span class="target" id="change-49d30a6da6539d0de1fe5e50170ffa98"><strong>[sqlite] [feature] </strong></span>The SQLite dialect now reflects the names of primary key constraints.
Pull request courtesy Diana Clarke.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3629"><span class="std std-ref">Reflection of the name of PRIMARY KEY constraints</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-49d30a6da6539d0de1fe5e50170ffa98">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3629">#3629</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-73"><span class="target" id="change-ff629759d993d58e82fc77a32e11282f"><strong>[sqlite] [bug] </strong></span>The workaround for right-nested joins on SQLite, where they are rewritten
as subqueries in order to work around SQLite&#8217;s lack of support for this
syntax, is lifted when SQLite version 3.7.16 or greater is detected.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3634"><span class="std std-ref">Right-nested join workaround lifted for SQLite version 3.7.16</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-ff629759d993d58e82fc77a32e11282f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3634">#3634</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-74"><span class="target" id="change-63298ba6c855aa8516743d99d0319ba1"><strong>[sqlite] [bug] </strong></span>The workaround for SQLite&#8217;s unexpected delivery of column names as
<code class="docutils literal"><span class="pre">tablename.columnname</span></code> for some kinds of queries is now disabled
when SQLite version 3.10.0 or greater is detected.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3633"><span class="std std-ref">Dotted column names workaround lifted for SQLite version 3.10.0</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-63298ba6c855aa8516743d99d0319ba1">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3633">#3633</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-75"><span class="target" id="change-b5448aba0a3a84361c2f1ee75c597bfa"><strong>[sqlite] [change] </strong></span>Added support to the SQLite dialect for the
<a class="reference internal" href="../core/reflection.html#sqlalchemy.engine.reflection.Inspector.get_schema_names" title="sqlalchemy.engine.reflection.Inspector.get_schema_names"><code class="xref py py-meth docutils literal"><span class="pre">Inspector.get_schema_names()</span></code></a> method to work with SQLite;
pull request courtesy Brian Van Klaveren.  Also repaired support
for creation of indexes with schemas as well as reflection of
foreign key constraints in schema-bound tables.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-sqlite-schemas"><span class="std std-ref">Improved Support for Remote Schemas</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-b5448aba0a3a84361c2f1ee75c597bfa">¶</a><p>References: <a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/198">pull request github:198</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-mssql">
<h3>mssql<a class="headerlink" href="#change-1.1.0b1-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-76"><span class="target" id="change-be8b6149c59334d05c96e5207d84cfa2"><strong>[mssql] [feature] </strong></span>The <code class="docutils literal"><span class="pre">mssql_clustered</span></code> flag available on <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.UniqueConstraint" title="sqlalchemy.schema.UniqueConstraint"><code class="xref py py-class docutils literal"><span class="pre">UniqueConstraint</span></code></a>,
<a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal"><span class="pre">PrimaryKeyConstraint</span></code></a>, <a class="reference internal" href="../core/constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal"><span class="pre">Index</span></code></a> now defaults to
<code class="docutils literal"><span class="pre">None</span></code>, and can be set to False which will render the NONCLUSTERED
keyword in particular for a primary key, allowing a different index to
be used as &#8220;clustered&#8221;. Pull request courtesy Saulius Žemaitaitis.<a class="changeset-link headerlink reference internal" href="#change-be8b6149c59334d05c96e5207d84cfa2">¶</a><p></p>
</p>
</li>
<li><p id="change-1.1.0b1-77"><span class="target" id="change-83bc6226d745f264990c3f697a8bec64"><strong>[mssql] [feature] </strong></span>Added basic isolation level support to the SQL Server dialects
via <a class="reference internal" href="../core/engines.html#sqlalchemy.create_engine.params.isolation_level" title="sqlalchemy.create_engine"><code class="xref py py-paramref docutils literal"><span class="pre">create_engine.isolation_level</span></code></a> and
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection.execution_options.params.isolation_level" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-paramref docutils literal"><span class="pre">Connection.execution_options.isolation_level</span></code></a>
parameters.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3534"><span class="std std-ref">Added transaction isolation level support for SQL Server</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-83bc6226d745f264990c3f697a8bec64">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3534">#3534</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-78"><span class="target" id="change-b04c14877b76f5d17f0cd07b715c468a"><strong>[mssql] [bug] </strong></span>Adjustments to the mxODBC dialect to make use of the <code class="docutils literal"><span class="pre">BinaryNull</span></code>
symbol when appropriate in conjunction with the <code class="docutils literal"><span class="pre">VARBINARY</span></code>
data type.  Pull request courtesy Sheila Allen.<a class="changeset-link headerlink reference internal" href="#change-b04c14877b76f5d17f0cd07b715c468a">¶</a><p>References: <a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy/pull-request/58">pull request bitbucket:58</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-79"><span class="target" id="change-2101980fac60807a3d347737bfff6a29"><strong>[mssql] [bug] </strong></span>Fixed issue where the SQL Server dialect would reflect a string-
or other variable-length column type with unbounded length
by assigning the token <code class="docutils literal"><span class="pre">&quot;max&quot;</span></code> to the
length attribute of the string.   While using the <code class="docutils literal"><span class="pre">&quot;max&quot;</span></code> token
explicitly is supported by the SQL Server dialect, it isn&#8217;t part
of the normal contract of the base string types, and instead the
length should just be left as None.   The dialect now assigns the
length to None on reflection of the type so that the type behaves
normally in other contexts.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3504"><span class="std std-ref">String / varlength types no longer represent &#8220;max&#8221; explicitly on reflection</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-2101980fac60807a3d347737bfff6a29">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3504">#3504</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-80"><span class="target" id="change-88e689d9f43877db618ab1091101ab1a"><strong>[mssql] [change] </strong></span>The <code class="docutils literal"><span class="pre">legacy_schema_aliasing</span></code> flag, introduced in version 1.0.5
as part of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3424">#3424</a> to allow disabling of the MSSQL dialect&#8217;s
attempts to create aliases for schema-qualified tables, now defaults
to False; the old behavior is now disabled unless explicitly turned on.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3434"><span class="std std-ref">The legacy_schema_aliasing flag is now set to False</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-88e689d9f43877db618ab1091101ab1a">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3434">#3434</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-1.1.0b1-misc">
<h3>misc<a class="headerlink" href="#change-1.1.0b1-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-1.1.0b1-81"><span class="target" id="change-d682fc46bfa49ace6fb8b8b9f4b09a5e"><strong>[feature] [ext] </strong></span>Added <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableSet" title="sqlalchemy.ext.mutable.MutableSet"><code class="xref py py-class docutils literal"><span class="pre">MutableSet</span></code></a> and <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableList" title="sqlalchemy.ext.mutable.MutableList"><code class="xref py py-class docutils literal"><span class="pre">MutableList</span></code></a> helper classes
to the <a class="reference internal" href="../orm/extensions/mutable.html"><span class="std std-ref">Mutation Tracking</span></a> extension.  Pull request courtesy
Jeong YunWon.<a class="changeset-link headerlink reference internal" href="#change-d682fc46bfa49ace6fb8b8b9f4b09a5e">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3297">#3297</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-82"><span class="target" id="change-a2c32a48b7c0700784bb0b7a87dd1f3f"><strong>[bug] [ext] </strong></span>The docstring specified on a hybrid property or method is now honored
at the class level, allowing it to work with tools like Sphinx
autodoc.  The mechanics here necessarily involve some wrapping of
expressions to occur for hybrid properties, which may cause them
to appear differently using introspection.<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_11.html#change-3653"><span class="std std-ref">Hybrid properties and methods now propagate the docstring as well as .info</span></a></p>
</div>
<a class="changeset-link headerlink reference internal" href="#change-a2c32a48b7c0700784bb0b7a87dd1f3f">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3653">#3653</a></p>
</p>
</li>
<li><p id="change-1.1.0b1-83"><span class="target" id="change-44d4eaf2aee417980d71eddb977888cb"><strong>[bug] [sybase] </strong></span>The unsupported Sybase dialect now raises <code class="docutils literal"><span class="pre">NotImplementedError</span></code>
when attempting to compile a query that includes &#8220;offset&#8221;; Sybase
has no straightforward &#8220;offset&#8221; feature.<a class="changeset-link headerlink reference internal" href="#change-44d4eaf2aee417980d71eddb977888cb">¶</a><p>References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2278">#2278</a></p>
</p>
</li>
</ul>
</div>
</div>
</div>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="migration_11.html" title="previous chapter">What&#8217;s New in SQLAlchemy 1.1?</a>
        Next:
        <a href="changelog_10.html" title="next chapter">1.0 Changelog</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2016, the SQLAlchemy authors and contributors.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.6.
    </div>
</div>

</div>


        
        

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '1.1.2',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../_static/detectmobile.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>


    </body>
</html>


